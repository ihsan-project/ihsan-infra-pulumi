backend.go:410] found username for access token
backend.go:410] found username for access token
plan_executor.go:391] planExecutor.retirePendingDeletes(...): no pending deletions
plan_executor.go:215] planExecutor.Execute(...): waiting for incoming events
step_executor.go:321] StepExecutor worker(-2): worker coming online
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
eventsink.go:59] Registering resource: t=pulumi:pulumi:Stack, name=khatm-production, custom=false
eventsink.go:59] RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=khatm-production
source_eval.go:793] ResourceMonitor.RegisterResource received: t=pulumi:pulumi:Stack, name=khatm-production, custom=false, #props=0, parent=, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:pulumi:Stack,name=khatm-production,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(0): launching oneshot worker
step_executor.go:321] StepExecutor worker(0): applying step create on urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production (preview true)
step_executor.go:321] StepExecutor worker(0): step create on urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=pulumi:pulumi:Stack, urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-production[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production,,,,
eventsink.go:59] Running program '/Users/mmislam101/git/khatm-infrastructure' in pwd '/Users/mmislam101/git/khatm-infrastructure' w/ args:
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:284] newRegisterDefaultProviderEvent(aws-2.3.0): using version 2.3.0 from request
source_eval.go:341] waiting for default provider for package aws-2.3.0
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:providers:aws,name=default_2_3_0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] Registering resource: t=awsx:x:ec2:Vpc, name=khatm-app-vpc, custom=false
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:SecurityGroup,name=khatm-app-app-sg,#props=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:Cluster, name=api-cluster, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb:ApplicationLoadBalancer, name=api-alb, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer::api-alb], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:EC2Service, name=api-orchestrator, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Vpc, name=khatm-app-vpc, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] Invoking function: tok=aws:index/getAvailabilityZones:getAvailabilityZones asynchronously
eventsink.go:59] Registering resource: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out, custom=true
eventsink.go:59] Registering resource: t=aws:lb:ApplicationLoadBalancer, name=api-alb, custom=false
eventsink.go:59] Registering resource: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb, custom=true
eventsink.go:59] Registering resource: t=awsx:lb:ApplicationTargetGroup, name=http-target, custom=false
eventsink.go:59] Registering resource: t=aws:lb/targetGroup:TargetGroup, name=http-target, custom=true
eventsink.go:59] Registering resource: t=awsx:lb:ApplicationListener, name=https-listener, custom=false
eventsink.go:59] Registering resource: t=aws:lb/listener:Listener, name=https-listener, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress, custom=true
eventsink.go:59] Registering resource: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ecs:Cluster, name=api-cluster, custom=false
eventsink.go:59] Registering resource: t=aws:ecs/cluster:Cluster, name=api-cluster, custom=true
eventsink.go:59] Registering resource: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale, custom=false
eventsink.go:59] Registering resource: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale, custom=false
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-scale, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d, custom=true
eventsink.go:59] Registering resource: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale, custom=true
eventsink.go:59] Invoking function: tok=aws:ssm/getParameter:getParameter asynchronously
eventsink.go:59] Registering resource: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale, custom=true
eventsink.go:59] Registering resource: t=aws:cloudformation/stack:Stack, name=api-scale, custom=true
eventsink.go:59] Reading resource: id=Output<T>, t=aws:autoscaling/group:Group, name=api-scale
eventsink.go:59] Registering resource: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator, custom=false
eventsink.go:59] Registering resource: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-orchestrator-task, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5, custom=true
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-orchestrator-execution, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520, custom=true
eventsink.go:59] Registering resource: t=aws:ecr/repository:Repository, name=khatm-images, custom=true
eventsink.go:59] Registering resource: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images, custom=true
eventsink.go:59] Registering resource: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ecs:EC2Service, name=api-orchestrator, custom=false
eventsink.go:59] Registering resource: t=aws:ecs/service:Service, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=cloudflare:index/record:Record, name=api-record, custom=true
eventsink.go:59] Registering resource: t=aws:cloudwatch/dashboard:Dashboard, name=khatm-api, custom=true
eventsink.go:59] , obj={"name":"/aws/service/ecs/optimized-ami/amazon-linux/recommended"}
eventsink.go:59] , obj={}
eventsink.go:59] Registering resource: t=aws:s3/bucket:Bucket, name=api-scale, custom=true
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb:ApplicationLoadBalancer, name=api-alb
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:EC2Service, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Vpc, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:Cluster, name=api-cluster
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(1): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:Cluster,name=api-cluster,#props=0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(1): applying step create on urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0 (preview true)
step_executor.go:321] StepExecutor worker(1): step create on urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0 retired
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:350] registered default provider for package aws-2.3.0: urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0
step_executor.go:321] StepExecutor worker(2): launching oneshot worker
source_eval.go:560] ResourceMonitor.Invoke received: tok=aws:index/getAvailabilityZones:getAvailabilityZones #args=0
step_executor.go:321] StepExecutor worker(2): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg (preview true)
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:EC2TaskDefinition,name=api-orchestrator,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:560] ResourceMonitor.Invoke received: tok=aws:ssm/getParameter:getParameter #args=1
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs, custom=true, #props=1, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
step_executor.go:321] StepExecutor worker(3): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(3): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster (preview true)
step_executor.go:321] StepExecutor worker(3): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:Cluster, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(4): launching oneshot worker
step_executor.go:321] StepExecutor worker(2): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
step_executor.go:321] StepExecutor worker(4): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator (preview true)
step_executor.go:321] StepExecutor worker(4): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:EC2TaskDefinition, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb:ApplicationLoadBalancer,name=api-alb,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:EC2Service,name=api-orchestrator,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:SecurityGroup,name=khatm-app-lb-sg,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(6): launching oneshot worker
step_executor.go:321] StepExecutor worker(6): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator (preview true)
step_executor.go:321] StepExecutor worker(6): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:EC2Service, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
step_executor.go:321] StepExecutor worker(5): launching oneshot worker
step_executor.go:321] StepExecutor worker(5): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb (preview true)
step_executor.go:321] StepExecutor worker(5): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb:ApplicationLoadBalancer, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(7): launching oneshot worker
step_executor.go:321] StepExecutor worker(7): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg (preview true)
step_executor.go:321] StepExecutor worker(7): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Vpc,name=khatm-app-vpc,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudwatch/logGroup:LogGroup,name=api-logs,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(8): launching oneshot worker
step_executor.go:321] StepExecutor worker(8): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc (preview true)
step_executor.go:321] StepExecutor worker(8): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Vpc, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
eventsink.go:59] Setting AWS metadata API timeout to 100ms
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-orchestrator-execution, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-orchestrator-execution,#props=1
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecr/repository:Repository, name=khatm-images, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-orchestrator-task, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[awsx:x:ecs:EC2TaskDefinition]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecs/cluster:Cluster, name=api-cluster, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:lb:ApplicationTargetGroup, name=http-target, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecr/repository:Repository, name=khatm-images
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-orchestrator-task
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-orchestrator-execution
eventsink.go:59] RegisterResource RPC finished: resource:api-cluster[awsx:x:ecs:Cluster]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecs/cluster:Cluster, name=api-cluster
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-app-sg[awsx:x:ec2:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[awsx:x:ec2:Vpc]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc,,,,
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[awsx:x:ecs:EC2Service]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator
eventsink.go:59] RegisterResource RPC finished: resource:api-alb[aws:lb:ApplicationLoadBalancer]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb
eventsink.go:59] RegisterResource RPC prepared: t=awsx:lb:ApplicationTargetGroup, name=http-target
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-lb-sg[awsx:x:ec2:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out
eventsink.go:59] Ignoring AWS metadata API endpoint at default location as it doesn't return any instance-id
eventsink.go:59] AWS Auth provider used: "StaticProvider"
eventsink.go:59] No assume_role block read from configuration
eventsink.go:59] Building AWS auth structure
eventsink.go:59] Setting AWS metadata API timeout to 100ms
eventsink.go:59] Ignoring AWS metadata API endpoint at default location as it doesn't return any instance-id
eventsink.go:59] AWS Auth provider used: "EnvProvider"
eventsink.go:59] Trying to get account information via sts:GetCallerIdentity
eventsink.go:59] Trying to get account information via sts:GetCallerIdentity
eventsink.go:59] Reading Availability Zones.
eventsink.go:59] Reading SSM Parameter: {
eventsink.go:59]   Name: "/aws/service/ecs/optimized-ami/amazon-linux/recommended",
eventsink.go:59]   WithDecryption: true
eventsink.go:59] }
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(9): launching oneshot worker
step_executor.go:321] StepExecutor worker(9): applying step create on urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs (preview true)
step_executor.go:321] StepExecutor worker(9): step create on urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudwatch/logGroup:LogGroup, urn=urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs, #outs=3
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecr/repository:Repository,name=khatm-images,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(10): launching oneshot worker
step_executor.go:321] StepExecutor worker(10): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution (preview true)
step_executor.go:321] StepExecutor worker(10): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution, #outs=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(11): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-orchestrator-task,#props=1
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(11): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images (preview true)
step_executor.go:321] StepExecutor worker(11): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecr/repository:Repository, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-logs[aws:cloudwatch/logGroup:LogGroup]; err: null, resp: urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs,,__defaults,,,,,,,,name,name,,,api-logs-b4d8dca,retentionInDays,,7,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC finished: resource:khatm-images[aws:ecr/repository:Repository]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images,,__defaults,,,,,,,,imageTagMutability,,,name,imageTagMutability,,,MUTABLE,name,,,khatm-images-f6e6e35,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(12): launching oneshot worker
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator,#outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudwatch/logGroup:LogGroup,name=api-orchestrator,#props=1
step_executor.go:321] StepExecutor worker(12): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task (preview true)
step_executor.go:321] StepExecutor worker(12): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task, #outs=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-execution[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution,,__defaults,,,,,,,,forceDetachPolicies,,,maxSessionDuration,,,name,,,path,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Action":"sts:AssumeRole","Principal":{"Service":"ecs-tasks.amazonaws.com"},"Effect":"Allow","Sid":""}]},forceDetachPolicies,,,,false,maxSessionDuration,,3600,name,,,api-orchestrator-execution-02e8b9c,path,,,/,,
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg,#outs=0
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(13): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:autoscaling:AutoScalingGroup,name=api-scale,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecs/cluster:Cluster,name=api-cluster,#props=0
step_executor.go:321] StepExecutor worker(13): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator (preview true)
step_executor.go:321] StepExecutor worker(13): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudwatch/logGroup:LogGroup, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator, #outs=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:IngressSecurityGroupRule,name=lb-sg-in,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(14): launching oneshot worker
step_executor.go:321] StepExecutor worker(14): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale (preview true)
step_executor.go:321] StepExecutor worker(14): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:autoscaling:AutoScalingGroup, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=all-out,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(16): launching oneshot worker
step_executor.go:321] StepExecutor worker(16): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in (preview true)
step_executor.go:321] StepExecutor worker(16): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:IngressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
step_executor.go:321] StepExecutor worker(15): launching oneshot worker
step_executor.go:321] StepExecutor worker(15): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster (preview true)
step_executor.go:321] StepExecutor worker(15): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecs/cluster:Cluster, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster, #outs=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(17): launching oneshot worker
step_executor.go:321] StepExecutor worker(17): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out (preview true)
step_executor.go:321] StepExecutor worker(17): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=http-out,#props=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(18): launching oneshot worker
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb,#outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:lb:ApplicationTargetGroup,name=http-target,#props=0
step_executor.go:321] StepExecutor worker(18): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out (preview true)
step_executor.go:321] StepExecutor worker(18): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(19): launching oneshot worker
step_executor.go:321] StepExecutor worker(19): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target (preview true)
step_executor.go:321] StepExecutor worker(19): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:lb:ApplicationTargetGroup, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-execution-9a42f520,#props=2
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecr/lifecyclePolicy:LifecyclePolicy,name=khatm-images,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator; err: null, resp:
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-task-32be53a2,#props=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(20): launching oneshot worker
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
step_executor.go:321] StepExecutor worker(20): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520 (preview true)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
step_executor.go:321] StepExecutor worker(20): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520, #outs=3
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(21): launching oneshot worker
step_executor.go:321] StepExecutor worker(21): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images (preview true)
step_executor.go:321] StepExecutor worker(21): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images, #outs=3
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-task-fd1a00e5,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration,name=api-scale,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(22): launching oneshot worker
step_executor.go:321] StepExecutor worker(22): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2 (preview true)
step_executor.go:321] StepExecutor worker(22): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2, #outs=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(23): launching oneshot worker
step_executor.go:321] StepExecutor worker(24): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(24): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale (preview true)
step_executor.go:321] StepExecutor worker(24): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
step_executor.go:321] StepExecutor worker(23): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5 (preview true)
step_executor.go:321] StepExecutor worker(23): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5, #outs=3
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale,#outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out,#outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:lb:ApplicationListener, name=https-listener, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:lb:ApplicationListener,name=https-listener,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(25): launching oneshot worker
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target: old=#0, new=#0
step_executor.go:321] StepExecutor worker(25): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener (preview true)
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(25): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:lb:ApplicationListener, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task,,__defaults,,,,,,,,forceDetachPolicies,,,maxSessionDuration,,,name,,,path,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Action":"sts:AssumeRole","Principal":{"Service":"ecs-tasks.amazonaws.com"},"Effect":"Allow","Sid":""}]},forceDetachPolicies,,,,false,maxSessionDuration,,3600,name,,,api-orchestrator-task-47e021f,path,,,/,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:s3/bucket:Bucket, name=api-scale, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:s3/bucket:Bucket,name=api-scale,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-scale, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-scale,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(26): launching oneshot worker
step_executor.go:321] StepExecutor worker(26): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale (preview true)
step_executor.go:321] StepExecutor worker(26): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:s3/bucket:Bucket, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale, #outs=4
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(27): launching oneshot worker
step_executor.go:321] StepExecutor worker(27): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale (preview true)
step_executor.go:321] StepExecutor worker(27): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale, #outs=6
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=https-listener-external-0-egress,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress], customTimeouts={0 0 0}
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(28): launching oneshot worker
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener: old=#0, new=#0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:IngressSecurityGroupRule,name=https-listener-external-0-ingress,#props=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(28): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress (preview true)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(28): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress retired
step_executor.go:321] StepExecutor worker(29): launching oneshot worker
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
step_executor.go:321] StepExecutor worker(29): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress (preview true)
step_executor.go:321] StepExecutor worker(29): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:IngressSecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-scale-5e4162cd,#props=2
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-scale-efc8f10d,#props=2
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(30): launching oneshot worker
step_executor.go:321] StepExecutor worker(30): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd (preview true)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(30): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd, #outs=3
step_executor.go:321] StepExecutor worker(31): launching oneshot worker
step_executor.go:321] StepExecutor worker(31): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d (preview true)
step_executor.go:321] StepExecutor worker(31): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d, #outs=3
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/instanceProfile:InstanceProfile,name=api-scale,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(32): launching oneshot worker
step_executor.go:321] StepExecutor worker(32): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale (preview true)
step_executor.go:321] StepExecutor worker(32): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/instanceProfile:InstanceProfile, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale, #outs=4
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[awsx:x:autoscaling:AutoScalingGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[aws:cloudwatch/logGroup:LogGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator,,__defaults,,,,,,,,name,name,,,api-orchestrator-b93eb88,retentionInDays,,1,,
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:lb-sg-in[awsx:x:ec2:IngressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in
eventsink.go:59] RegisterResource RPC finished: resource:api-cluster[aws:ecs/cluster:Cluster]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster,,__defaults,,,,,,,,name,name,,,api-cluster-980952d,,
eventsink.go:59] RegisterResource RPC finished: resource:all-out[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out
eventsink.go:59] RegisterResource RPC finished: resource:http-out[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:http-target[awsx:lb:ApplicationTargetGroup]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target
eventsink.go:59] RegisterResource RPC prepared: t=awsx:lb:ApplicationListener, name=https-listener
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-execution-9a42f520[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520,,__defaults,,,,,,,policyArn,,,arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task-32be53a2[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2,,__defaults,,,,,,,policyArn,,,arn:aws:iam::aws:policy/AWSLambdaFullAccess,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-images[aws:ecr/lifecyclePolicy:LifecyclePolicy]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images,,__defaults,,,,,,,policy,,,{"rules":[{"rulePriority":10,"description":"remove untagged images","selection":{"tagStatus":"untagged","countType":"imageCountMoreThan","countNumber":1},"action":{"type":"expire"}}]},repository,,,khatm-images-f6e6e35,,
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[awsx:x:autoscaling:AutoScalingLaunchConfiguration]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:s3/bucket:Bucket, name=api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-scale
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task-fd1a00e5[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5,,__defaults,,,,,,,policyArn,,,arn:aws:iam::aws:policy/AmazonEC2ContainerServiceFullAccess,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in; err: null, resp:
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out; err: null, resp:
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out; err: null, resp:
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:https-listener[awsx:lb:ApplicationListener]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:s3/bucket:Bucket]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale,,__defaults,,,,,,,,acl,,,bucket,,,forceDestroy,acl,,,private,bucket,,,api-scale-b33c952,forceDestroy,,,,false,,
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale,,__defaults,,,,,,,,forceDetachPolicies,,,maxSessionDuration,,,name,,,path,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Action":["sts:AssumeRole"],"Effect":"Allow","Principal":{"Service":["ec2.amazonaws.com"]}}]},forceDetachPolicies,,,,false,maxSessionDuration,,3600,name,,,api-scale-260c783,path,,,/,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-egress[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-ingress[awsx:x:ec2:IngressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress
eventsink.go:59] RegisterResource RPC finished: resource:api-scale-5e4162cd[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd,,__defaults,,,,,,,policyArn,,,arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceforEC2Role,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:api-scale-efc8f10d[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d,,__defaults,,,,,,,policyArn,,,arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress; err: null, resp:
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:iam/instanceProfile:InstanceProfile]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale,,__defaults,,,,,,,,name,,,path,name,,,api-scale-f039621,path,,,/,role,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] Invoke RPC finished: tok=aws:ssm/getParameter:getParameter; err: null, resp: arn,,,arn:aws:ssm:us-east-1:952442618488:parameter/aws/service/ecs/optimized-ami/amazon-linux/recommended,id,,,/aws/service/ecs/optimized-ami/amazon-linux/recommended,name,,,/aws/service/ecs/optimized-ami/amazon-linux/recommended,type,,,String,value,,,{"schema_version":1,"image_name":"amzn-ami-2018.03.20200430-amazon-ecs-optimized","image_id":"ami-040d7258a1baecb27","os":"Amazon Linux","ecs_runtime_version":"Docker version 19.03.6-ce","ecs_agent_version":"1.39.0"},version,,43,withDecryption,,,,true,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc, custom=true, #props=5, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:ec2/vpc:Vpc::khatm-app-vpc], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/vpc:Vpc,name=khatm-app-vpc,#props=5
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-private-0,#props=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-public-1], customTimeouts={0 0 0}
eventsink.go:59] Invoke RPC finished: tok=aws:index/getAvailabilityZones:getAvailabilityZones; err: null, resp: groupNames,,,,,,,,us-east-1,id,,,2020-05-15 08:39:32.283892 +0000 UTC,names,,,,,,,,us-east-1a,,,us-east-1b,,,us-east-1c,,,us-east-1d,,,us-east-1e,,,us-east-1f,zoneIds,,,,,,,,use1-az1,,,use1-az2,,,use1-az4,,,use1-az6,,,use1-az3,,,use1-az5,
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(33): launching oneshot worker
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(33): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc (preview true)
step_executor.go:321] StepExecutor worker(34): launching oneshot worker
step_executor.go:321] StepExecutor worker(33): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc retired
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc,#outs=0
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/vpc:Vpc, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc, #outs=6
step_executor.go:321] StepExecutor worker(34): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0 (preview true)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(34): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0 retired
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-private-1,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:InternetGateway,name=khatm-app-vpc,#props=0
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-public-0,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(35): launching oneshot worker
step_executor.go:321] StepExecutor worker(35): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1 (preview true)
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:NatGateway,name=khatm-app-vpc-0,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(36): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-public-1,#props=0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(36): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc (preview true)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(37): launching oneshot worker
step_executor.go:321] StepExecutor worker(38): launching oneshot worker
step_executor.go:321] StepExecutor worker(35): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1 retired
step_executor.go:321] StepExecutor worker(37): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0 (preview true)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
step_executor.go:321] StepExecutor worker(37): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0 retired
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
step_executor.go:321] StepExecutor worker(36): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc retired
step_executor.go:321] StepExecutor worker(38): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0 (preview true)
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:InternetGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(39): launching oneshot worker
step_executor.go:321] StepExecutor worker(39): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1 (preview true)
step_executor.go:321] StepExecutor worker(39): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
step_executor.go:321] StepExecutor worker(38): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:NatGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
eventsink.go:59] Registering resource: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc, custom=true
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroup:SecurityGroup,name=khatm-app-lb-sg,#props=2
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroup:SecurityGroup,name=khatm-app-app-sg,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(40): launching oneshot worker
step_executor.go:321] StepExecutor worker(40): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg (preview true)
step_executor.go:321] StepExecutor worker(40): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroup:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg, #outs=5
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(41): launching oneshot worker
step_executor.go:321] StepExecutor worker(41): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg (preview true)
step_executor.go:321] StepExecutor worker(41): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroup:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg, #outs=5
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/targetGroup:TargetGroup, name=http-target, custom=true, #props=6, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::16093feb urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:elasticloadbalancingv2/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/targetGroup:TargetGroup,name=http-target,#props=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(42): launching oneshot worker
step_executor.go:321] StepExecutor worker(42): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target (preview true)
step_executor.go:321] StepExecutor worker(42): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/targetGroup:TargetGroup, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target, #outs=11
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-private-0,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-private-0,#props=7
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(43): launching oneshot worker
step_executor.go:321] StepExecutor worker(43): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 (preview true)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(43): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0, #outs=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(44): launching oneshot worker
step_executor.go:321] StepExecutor worker(44): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 (preview true)
step_executor.go:321] StepExecutor worker(44): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0, #outs=8
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0,#outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-public-0,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:317] handling default provider request for package aws-2.3.0
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0: old=#0, new=#0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0], customTimeouts={0 0 0}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-public-0,#props=7
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(45): launching oneshot worker
step_executor.go:321] StepExecutor worker(45): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 (preview true)
step_executor.go:321] StepExecutor worker(45): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0, #outs=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(46): launching oneshot worker
step_executor.go:321] StepExecutor worker(46): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 (preview true)
step_executor.go:321] StepExecutor worker(46): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0, #outs=8
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:317] handling default provider request for package aws-2.3.0
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/internetGateway:InternetGateway,name=khatm-app-vpc,#props=1
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(47): launching oneshot worker
step_executor.go:321] StepExecutor worker(47): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc (preview true)
step_executor.go:321] StepExecutor worker(47): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/internetGateway:InternetGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc, #outs=2
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1], customTimeouts={0 0 0}
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-private-1,#props=1
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1], customTimeouts={0 0 0}
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-private-1,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(48): launching oneshot worker
step_executor.go:321] StepExecutor worker(48): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 (preview true)
step_executor.go:321] StepExecutor worker(48): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1, #outs=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(49): launching oneshot worker
step_executor.go:321] StepExecutor worker(49): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 (preview true)
step_executor.go:321] StepExecutor worker(49): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1, #outs=8
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0,#outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/eip:Eip,name=khatm-app-vpc-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(50): launching oneshot worker
step_executor.go:321] StepExecutor worker(50): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 (preview true)
step_executor.go:321] StepExecutor worker(50): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/eip:Eip, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0, #outs=3
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:317] handling default provider request for package aws-2.3.0
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-public-1,#props=1
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1: old=#0, new=#0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-public-1,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(51): launching oneshot worker
step_executor.go:321] StepExecutor worker(51): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 (preview true)
step_executor.go:321] StepExecutor worker(51): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1, #outs=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(52): launching oneshot worker
step_executor.go:321] StepExecutor worker(52): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 (preview true)
step_executor.go:321] StepExecutor worker(52): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1, #outs=8
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0, custom=false
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=http-out,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress, custom=true, #props=7, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=https-listener-external-0-egress,#props=7
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress, custom=true, #props=7, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress], customTimeouts={0 0 0}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(53): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=https-listener-external-0-ingress,#props=7
step_executor.go:321] StepExecutor worker(53): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out (preview true)
step_executor.go:321] StepExecutor worker(53): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out, #outs=9
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(54): launching oneshot worker
step_executor.go:321] StepExecutor worker(54): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress (preview true)
step_executor.go:321] StepExecutor worker(54): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress, #outs=9
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(55): launching oneshot worker
step_executor.go:321] StepExecutor worker(55): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress (preview true)
step_executor.go:321] StepExecutor worker(55): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress, #outs=9
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale, custom=true, #props=9, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/launchConfiguration:LaunchConfiguration,name=api-scale,#props=9
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=all-out,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=lb-sg-in,#props=7
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(56): launching oneshot worker
step_executor.go:321] StepExecutor worker(56): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale (preview true)
step_executor.go:321] StepExecutor worker(56): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/launchConfiguration:LaunchConfiguration, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale, #outs=12
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(57): launching oneshot worker
step_executor.go:321] StepExecutor worker(57): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out (preview true)
step_executor.go:321] StepExecutor worker(57): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out retired
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out, #outs=9
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(58): launching oneshot worker
step_executor.go:321] StepExecutor worker(58): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in (preview true)
step_executor.go:321] StepExecutor worker(58): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in, #outs=8
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-private-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(59): launching oneshot worker
step_executor.go:321] StepExecutor worker(59): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 (preview true)
step_executor.go:321] StepExecutor worker(59): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0, #outs=3
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-public-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(60): launching oneshot worker
step_executor.go:321] StepExecutor worker(60): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 (preview true)
step_executor.go:321] StepExecutor worker(60): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0, #outs=3
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-public-0-ig,#props=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(61): launching oneshot worker
step_executor.go:321] StepExecutor worker(61): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig (preview true)
step_executor.go:321] StepExecutor worker(61): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig, #outs=4
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-private-1,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(62): launching oneshot worker
step_executor.go:321] StepExecutor worker(62): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 (preview true)
step_executor.go:321] StepExecutor worker(62): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1, #outs=3
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-public-1-ig,#props=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(63): launching oneshot worker
step_executor.go:321] StepExecutor worker(63): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig (preview true)
step_executor.go:321] StepExecutor worker(63): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig, #outs=4
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-public-1,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(64): launching oneshot worker
step_executor.go:321] StepExecutor worker(64): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1 (preview true)
step_executor.go:321] StepExecutor worker(64): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1, #outs=3
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0, custom=true
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/natGateway:NatGateway,name=khatm-app-vpc-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(65): launching oneshot worker
step_executor.go:321] StepExecutor worker(65): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 (preview true)
step_executor.go:321] StepExecutor worker(65): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/natGateway:NatGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0, #outs=3
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudformation/stack:Stack, name=api-scale, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudformation/stack:Stack,name=api-scale,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(66): launching oneshot worker
step_executor.go:321] StepExecutor worker(66): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale (preview true)
step_executor.go:321] StepExecutor worker(66): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudformation/stack:Stack, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale, #outs=3
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb, custom=true, #props=5, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::e949040e urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/loadBalancer:LoadBalancer::api-alb urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/loadBalancer:LoadBalancer,name=api-alb,#props=5
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0, custom=true
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(67): launching oneshot worker
step_executor.go:321] StepExecutor worker(67): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb (preview true)
step_executor.go:321] StepExecutor worker(67): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/loadBalancer:LoadBalancer, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb, #outs=12
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-private-1-nat-1,#props=3
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-private-0-nat-0,#props=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(68): launching oneshot worker
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(68): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1 (preview true)
step_executor.go:321] StepExecutor worker(68): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1, #outs=4
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:157] EvalSourceIterator produced a read
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:367] planExecutor.handleSingleEvent(...): received ReadResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(70): launching oneshot worker
step_executor.go:321] StepExecutor worker(70): applying step read on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:autoscaling/group:Group::api-scale (preview true)
step_executor.go:321] StepExecutor worker(70): step read on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:autoscaling/group:Group::api-scale retired
step_executor.go:321] StepExecutor worker(69): launching oneshot worker
step_executor.go:321] StepExecutor worker(69): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0 (preview true)
step_executor.go:321] StepExecutor worker(69): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0, #outs=4
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0, custom=true
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/listener:Listener, name=https-listener, custom=true, #props=6, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:elasticloadbalancingv2/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/listener:Listener,name=https-listener,#props=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(71): launching oneshot worker
step_executor.go:321] StepExecutor worker(71): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener (preview true)
step_executor.go:321] StepExecutor worker(71): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/listener:Listener, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener, #outs=7
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecs/taskDefinition:TaskDefinition,name=api-orchestrator,#props=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=2
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production,#outs=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production: old=#0, new=#2
step_executor.go:321] StepExecutor worker(72): launching oneshot worker
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=2
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(72): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator (preview true)
step_executor.go:321] StepExecutor worker(72): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecs/taskDefinition:TaskDefinition, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator, #outs=7
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1, custom=false
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecs/service:Service, name=api-orchestrator, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecs/service:Service,name=api-orchestrator,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(73): launching oneshot worker
step_executor.go:321] StepExecutor worker(73): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service$aws:ecs/service:Service::api-orchestrator (preview true)
step_executor.go:321] StepExecutor worker(73): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service$aws:ecs/service:Service::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecs/service:Service, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service$aws:ecs/service:Service::api-orchestrator, #outs=13
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1, custom=true
source_eval.go:317] handling default provider request for package cloudflare-2.2.0
source_eval.go:284] newRegisterDefaultProviderEvent(cloudflare-2.2.0): using version 2.2.0 from request
source_eval.go:341] waiting for default provider for package cloudflare-2.2.0
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:providers:cloudflare,name=default_2_2_0,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig, custom=true
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[aws:ec2/vpc:Vpc]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc,,__defaults,,,,,,,assignGeneratedIpv6CidrBlock,,,,false,cidrBlock,,,10.0.0.0/16,enableDnsHostnames,,,,true,enableDnsSupport,,,,true,instanceTenancy,,,default,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/targetGroup:TargetGroup, name=http-target
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[awsx:x:ec2:InternetGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[awsx:x:ec2:NatGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1,,,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-lb-sg[aws:ec2/securityGroup:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg,,__defaults,,,,,,,,name,,,revokeRulesOnDelete,description,,,Managed by Pulumi,name,,,khatm-app-lb-sg-c54a57b,revokeRulesOnDelete,,,,false,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-app-sg[aws:ec2/securityGroup:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg,,__defaults,,,,,,,,name,,,revokeRulesOnDelete,description,,,Managed by Pulumi,name,,,khatm-app-app-sg-1b3111d,revokeRulesOnDelete,,,,false,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale
eventsink.go:59] RegisterResource RPC finished: resource:http-target[aws:lb/targetGroup:TargetGroup]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target,,__defaults,,,,,,,,lambdaMultiValueHeadersEnabled,,,name,,,proxyProtocolV2,,,slowStart,deregistrationDelay,,300,lambdaMultiValueHeadersEnabled,,,,false,name,,,http-target-2e45c7d,port,,80,protocol,,,HTTP,proxyProtocolV2,,,,false,slowStart,,0,tags,,,,,Name,,,http-target,__defaults,,,,,,,targetType,,,ip,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0,,__defaults,,,,,,,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0,,__defaults,,,,,,,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1a,cidrBlock,,,10.0.128.0/18,ipv6CidrBlock,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,mapPublicIpOnLaunch,,,,false,tags,,,,,Name,,,khatm-app-vpc-private-0,__defaults,,,,,,,type,,,private,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0,,__defaults,,,,,,,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0,,__defaults,,,,,,,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1a,cidrBlock,,,10.0.0.0/18,ipv6CidrBlock,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,mapPublicIpOnLaunch,,,,true,tags,,,,,Name,,,khatm-app-vpc-public-0,__defaults,,,,,,,type,,,public,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[aws:ec2/internetGateway:InternetGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc,,__defaults,,,,,,,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1,,__defaults,,,,,,,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1,,__defaults,,,,,,,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1b,cidrBlock,,,10.0.192.0/18,ipv6CidrBlock,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,mapPublicIpOnLaunch,,,,false,tags,,,,,Name,,,khatm-app-vpc-private-1,__defaults,,,,,,,type,,,private,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[aws:ec2/eip:Eip]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0,,__defaults,,,,,,,tags,,,,,Name,,,khatm-app-vpc-0,__defaults,,,,,,,vpc,,,,true,,
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1,,__defaults,,,,,,,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1,,__defaults,,,,,,,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1b,cidrBlock,,,10.0.64.0/18,ipv6CidrBlock,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,mapPublicIpOnLaunch,,,,true,tags,,,,,Name,,,khatm-app-vpc-public-1,__defaults,,,,,,,type,,,public,vpcId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC finished: resource:http-out[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out,,__defaults,,,,,,,,self,cidrBlocks,,,,,,,,0.0.0.0/0,description,,,allow http out,fromPort,,80,protocol,,,tcp,securityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,self,,,,false,toPort,,80,type,,,egress,,
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-egress[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress,,__defaults,,,,,,,,self,cidrBlocks,,,,,,,,0.0.0.0/0,description,,,Externally available at port 443,fromPort,,443,protocol,,,tcp,securityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,self,,,,false,toPort,,443,type,,,egress,,
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-ingress[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress,,__defaults,,,,,,,,self,cidrBlocks,,,,,,,,0.0.0.0/0,description,,,Externally available at port 443,fromPort,,443,protocol,,,tcp,securityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,self,,,,false,toPort,,443,type,,,ingress,,
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:ec2/launchConfiguration:LaunchConfiguration]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale,,__defaults,,,,,,,,associatePublicIpAddress,,,name,associatePublicIpAddress,,,,false,ebsBlockDevices,,,,,,,,,,__defaults,,,,,,,deleteOnTermination,,,,true,deviceName,,,/dev/xvdb,volumeSize,,5,volumeType,,,gp2,,,,,__defaults,,,,,,,deleteOnTermination,,,,true,deviceName,,,/dev/xvdcz,volumeSize,,50,volumeType,,,gp2,enableMonitoring,,,,true,iamInstanceProfile,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,imageId,,,ami-040d7258a1baecb27,instanceType,,,t2.nano,name,,,api-scale-c2a948e,placementTenancy,,,default,rootBlockDevice,,,,,__defaults,,,,,,,deleteOnTermination,,,,true,volumeSize,,8,volumeType,,,gp2,securityGroups,,,,,,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,userData,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:all-out[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out,,__defaults,,,,,,,,self,cidrBlocks,,,,,,,,0.0.0.0/0,description,,,allow all http out,fromPort,,0,protocol,,,-1,securityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,self,,,,false,toPort,,0,type,,,egress,,
eventsink.go:59] RegisterResource RPC finished: resource:lb-sg-in[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in,,__defaults,,,,,,,description,,,allow http from lb in,fromPort,,80,protocol,,,tcp,securityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,sourceSecurityGroupId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,toPort,,80,type,,,ingress,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0,,__defaults,,,,,,,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnetId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0,,__defaults,,,,,,,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnetId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0-ig[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig,,__defaults,,,,,,,destinationCidrBlock,,,0.0.0.0/0,gatewayId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1,,__defaults,,,,,,,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnetId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudformation/stack:Stack, name=api-scale
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1-ig[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig,,__defaults,,,,,,,destinationCidrBlock,,,0.0.0.0/0,gatewayId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1,,__defaults,,,,,,,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnetId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[aws:ec2/natGateway:NatGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0,,__defaults,,,,,,,allocationId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnetId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:cloudformation/stack:Stack]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale,,__defaults,,,,,,,name,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,templateBody,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] ReadResource RPC prepared: id=04da6b54-80e4-46f7-96ec-b56ff0331ba9, t=aws:autoscaling/group:Group, name=api-scale
eventsink.go:59] RegisterResource RPC finished: resource:api-alb[aws:lb/loadBalancer:LoadBalancer]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb,,__defaults,,,,,,,,dropInvalidHeaderFields,,,enableCrossZoneLoadBalancing,,,enableDeletionProtection,,,enableHttp2,,,idleTimeout,,,name,dropInvalidHeaderFields,,,,false,enableCrossZoneLoadBalancing,,,,false,enableDeletionProtection,,,,false,enableHttp2,,,,true,idleTimeout,,60,internal,,,,false,loadBalancerType,,,application,name,,,api-alb-90a6a10,securityGroups,,,,,,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnets,,,,,,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,tags,,,,,Name,,,api-alb,__defaults,,,,,,,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/listener:Listener, name=https-listener
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1-nat-1[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1,,__defaults,,,,,,,destinationCidrBlock,,,0.0.0.0/0,natGatewayId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] ReadResource RPC finished: resource:api-scale[aws:autoscaling/group:Group]#...; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:autoscaling/group:Group::api-scale,
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0-nat-0[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0,,__defaults,,,,,,,destinationCidrBlock,,,0.0.0.0/0,natGatewayId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,routeTableId,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC finished: resource:https-listener[aws:lb/listener:Listener]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener,,__defaults,,,,,,,certificateArn,,,arn:aws:acm:us-east-1:952442618488:certificate/3fc83113-436f-4019-aedc-bc17a936c755,defaultActions,,,,,,,,,,__defaults,,,,,,,targetGroupArn,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,type,,,forward,loadBalancerArn,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,port,,443,protocol,,,HTTPS,sslPolicy,,,ELBSecurityPolicy-2016-08,,
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production; err: null, resp:
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[aws:ecs/taskDefinition:TaskDefinition]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator,,__defaults,,,,,,,containerDefinitions,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,executionRoleArn,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,family,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,networkMode,,,awsvpc,requiresCompatibilities,,,,,,,,EC2,taskRoleArn,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecs/service:Service, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=cloudflare:index/record:Record, name=api-record
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[aws:ecs/service:Service]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2Service$aws:ecs/service:Service::api-orchestrator,,__defaults,,,,,,,,deploymentMaximumPercent,,,deploymentMinimumHealthyPercent,,,enableEcsManagedTags,,,name,,,schedulingStrategy,cluster,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,deploymentMaximumPercent,,200,deploymentMinimumHealthyPercent,,100,desiredCount,,1,enableEcsManagedTags,,,,false,launchType,,,EC2,loadBalancers,,,,,,,,,,containerName,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,containerPort,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,name,,,api-orchestrator-0cc146b,networkConfiguration,,,,,__defaults,,,,,,,assignPublicIp,,,,false,securityGroups,,,,,,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,subnets,,,,,,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,schedulingStrategy,,,REPLICA,taskDefinition,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,waitForSteadyState,,,,true,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudwatch/dashboard:Dashboard, name=khatm-api
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(74): launching oneshot worker
step_executor.go:321] StepExecutor worker(74): applying step create on urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0 (preview true)
step_executor.go:321] StepExecutor worker(74): step create on urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0 retired
source_eval.go:350] registered default provider for package cloudflare-2.2.0: urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudwatch/dashboard:Dashboard, name=khatm-api, custom=true, #props=2, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2Service$aws:ecs/service:Service::api-orchestrator urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=cloudflare:index/record:Record, name=api-record, custom=true, #props=5, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0::04da6b54-80e4-46f7-96ec-b56ff0331ba9, deps=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudwatch/dashboard:Dashboard,name=khatm-api,#props=2
source_eval.go:147] EvalSourceIterator produced a registration: t=cloudflare:index/record:Record,name=api-record,#props=5
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(75): launching oneshot worker
step_executor.go:321] StepExecutor worker(75): applying step create on urn:pulumi:production::khatm::aws:cloudwatch/dashboard:Dashboard::khatm-api (preview true)
step_executor.go:321] StepExecutor worker(75): step create on urn:pulumi:production::khatm::aws:cloudwatch/dashboard:Dashboard::khatm-api retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudwatch/dashboard:Dashboard, urn=urn:pulumi:production::khatm::aws:cloudwatch/dashboard:Dashboard::khatm-api, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:khatm-api[aws:cloudwatch/dashboard:Dashboard]; err: null, resp: urn:pulumi:production::khatm::aws:cloudwatch/dashboard:Dashboard::khatm-api,,__defaults,,,,,,,dashboardBody,,,{"widgets":[{"x":0,"y":0,"width":8,"height":6,"type":"metric","properties":{"metrics":[["AWS/ECS","CPUUtilization","ServiceName","api-orchestrator-0cc146b","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}],["AWS/ECS","MemoryUtilization","ServiceName","api-orchestrator-0cc146b","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}]],"title":"ECS Service","period":300,"region":"us-east-1","view":"singleValue","stacked":false}},{"x":8,"y":0,"width":16,"height":6,"type":"metric","properties":{"metrics":[["AWS/ECS","CPUUtilization","ServiceName","api-orchestrator-0cc146b","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}]],"title":"ECS Service CPU","period":300,"region":"us-east-1","view":"timeSeries","stacked":false}},{"x":0,"y":6,"width":8,"height":6,"type":"metric","properties":{"metrics":[["AWS/ECS","MemoryReservation","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}],["AWS/ECS","MemoryUtilization","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}]],"title":"ECS Cluster Memory","period":300,"region":"us-east-1","view":"singleValue","stacked":false}},{"x":8,"y":6,"width":16,"height":6,"type":"metric","properties":{"metrics":[["AWS/ECS","CPUUtilization","ClusterName","api-cluster-980952d",{"stat":"Average","period":300,"visible":true,"yAxis":"left"}]],"title":"ECS Cluster CPU","period":300,"region":"us-east-1","view":"timeSeries","stacked":false}}]},dashboardName,,,khatm-api,,
eventsink.go:59] Cloudflare Client configured for user: mmislam101@gmail.com
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(76): launching oneshot worker
step_executor.go:321] StepExecutor worker(76): applying step create on urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record (preview true)
step_executor.go:321] StepExecutor worker(76): step create on urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=cloudflare:index/record:Record, urn=urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:api-record[cloudflare:index/record:Record]; err: null, resp: urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record,,__defaults,,,,,,,name,,,api,proxied,,,,true,type,,,CNAME,value,,,04da6b54-80e4-46f7-96ec-b56ff0331ba9,zoneId,,,7cd2d7064f6b0f7e4af0cc47f7f686f8,,
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? true, <nil>)
step_executor.go:321] StepExecutor worker(-1): StepExecutor.waitForCompletion(): waiting for worker threads to exit
step_executor.go:321] StepExecutor worker(-2): worker received nil chain, exiting
step_executor.go:321] StepExecutor worker(-1): StepExecutor.waitForCompletion(): worker threads all exited
plan_executor.go:254] planExecutor.Execute(...): step executor has completed
plan_executor.go:131] planExecutor.Execute(...): exiting provider canceller
ignore.go:44] Explicitly ignoring and discarding error: rpc error: code = Canceled desc = grpc: the client connection is closing
host.go:451] Error closing 'nodejs' language plugin during shutdown; ignoring: 1 error occurred:
	* operation not permitted

backend.go:410] found username for access token
plan_executor.go:391] planExecutor.retirePendingDeletes(...): no pending deletions
plan_executor.go:215] planExecutor.Execute(...): waiting for incoming events
step_executor.go:321] StepExecutor worker(-2): worker coming online
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
eventsink.go:59] Registering resource: t=pulumi:pulumi:Stack, name=khatm-production, custom=false
eventsink.go:59] RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=khatm-production
source_eval.go:793] ResourceMonitor.RegisterResource received: t=pulumi:pulumi:Stack, name=khatm-production, custom=false, #props=0, parent=, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:pulumi:Stack,name=khatm-production,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(0): launching oneshot worker
step_executor.go:321] StepExecutor worker(0): applying step create on urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production (preview false)
step_executor.go:321] StepExecutor worker(0): step create on urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=pulumi:pulumi:Stack, urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-production[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production,,,,
eventsink.go:59] Running program '/Users/mmislam101/git/khatm-infrastructure' in pwd '/Users/mmislam101/git/khatm-infrastructure' w/ args:
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:284] newRegisterDefaultProviderEvent(aws-2.3.0): using version 2.3.0 from request
source_eval.go:341] waiting for default provider for package aws-2.3.0
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:providers:aws,name=default_2_3_0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] Registering resource: t=awsx:x:ec2:Vpc, name=khatm-app-vpc, custom=false
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:SecurityGroup,name=khatm-app-lb-sg,#props=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:Cluster, name=api-cluster, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ecs:EC2Service, name=api-orchestrator, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Vpc, name=khatm-app-vpc, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb:ApplicationLoadBalancer, name=api-alb, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer::api-alb], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg, custom=false, #props=0, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] Invoking function: tok=aws:index/getAvailabilityZones:getAvailabilityZones asynchronously
eventsink.go:59] Registering resource: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out, custom=true
eventsink.go:59] Registering resource: t=aws:lb:ApplicationLoadBalancer, name=api-alb, custom=false
eventsink.go:59] Registering resource: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb, custom=true
eventsink.go:59] Registering resource: t=awsx:lb:ApplicationTargetGroup, name=http-target, custom=false
eventsink.go:59] Registering resource: t=aws:lb/targetGroup:TargetGroup, name=http-target, custom=true
eventsink.go:59] Registering resource: t=awsx:lb:ApplicationListener, name=https-listener, custom=false
eventsink.go:59] Registering resource: t=aws:lb/listener:Listener, name=https-listener, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress, custom=true
eventsink.go:59] Registering resource: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ecs:Cluster, name=api-cluster, custom=false
eventsink.go:59] Registering resource: t=aws:ecs/cluster:Cluster, name=api-cluster, custom=true
eventsink.go:59] Registering resource: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale, custom=false
eventsink.go:59] Registering resource: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale, custom=false
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-scale, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d, custom=true
eventsink.go:59] Registering resource: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale, custom=true
eventsink.go:59] Invoking function: tok=aws:ssm/getParameter:getParameter asynchronously
eventsink.go:59] Registering resource: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale, custom=true
eventsink.go:59] Registering resource: t=aws:cloudformation/stack:Stack, name=api-scale, custom=true
eventsink.go:59] Reading resource: id=Output<T>, t=aws:autoscaling/group:Group, name=api-scale
eventsink.go:59] Registering resource: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator, custom=false
eventsink.go:59] Registering resource: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-orchestrator-task, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5, custom=true
eventsink.go:59] Registering resource: t=aws:iam/role:Role, name=api-orchestrator-execution, custom=true
eventsink.go:59] Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520, custom=true
eventsink.go:59] Registering resource: t=aws:ecr/repository:Repository, name=khatm-images, custom=true
eventsink.go:59] Registering resource: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images, custom=true
eventsink.go:59] Registering resource: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ecs:EC2Service, name=api-orchestrator, custom=false
eventsink.go:59] Registering resource: t=aws:ecs/service:Service, name=api-orchestrator, custom=true
eventsink.go:59] Registering resource: t=cloudflare:index/record:Record, name=api-record, custom=true
eventsink.go:59] Registering resource: t=aws:cloudwatch/dashboard:Dashboard, name=khatm-api, custom=true
eventsink.go:59] , obj={"name":"/aws/service/ecs/optimized-ami/amazon-linux/recommended"}
eventsink.go:59] , obj={}
eventsink.go:59] Registering resource: t=aws:s3/bucket:Bucket, name=api-scale, custom=true
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb:ApplicationLoadBalancer, name=api-alb
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:SecurityGroup, name=khatm-app-app-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:EC2Service, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:Cluster, name=api-cluster
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ecs:EC2TaskDefinition, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Vpc, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:SecurityGroup, name=khatm-app-lb-sg
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:Cluster,name=api-cluster,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(2): launching oneshot worker
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(1): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:EC2TaskDefinition,name=api-orchestrator,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ecs:EC2Service,name=api-orchestrator,#props=0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(3): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Vpc,name=khatm-app-vpc,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(5): launching oneshot worker
step_executor.go:321] StepExecutor worker(4): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(6): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb:ApplicationLoadBalancer,name=api-alb,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:SecurityGroup,name=khatm-app-app-sg,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(8): launching oneshot worker
step_executor.go:321] StepExecutor worker(7): launching oneshot worker
step_executor.go:321] StepExecutor worker(2): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg (preview false)
step_executor.go:321] StepExecutor worker(1): applying step create on urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0 (preview false)
eventsink.go:59] Setting AWS metadata API timeout to 100ms
step_executor.go:321] StepExecutor worker(3): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster (preview false)
step_executor.go:321] StepExecutor worker(5): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator (preview false)
step_executor.go:321] StepExecutor worker(4): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator (preview false)
step_executor.go:321] StepExecutor worker(6): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc (preview false)
step_executor.go:321] StepExecutor worker(8): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg (preview false)
step_executor.go:321] StepExecutor worker(7): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb (preview false)
step_executor.go:321] StepExecutor worker(2): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-lb-sg[awsx:x:ec2:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg,,,,
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=http-out,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(9): launching oneshot worker
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=http-out
step_executor.go:321] StepExecutor worker(1): step create on urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0 retired
source_eval.go:350] registered default provider for package aws-2.3.0: urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:560] ResourceMonitor.Invoke received: tok=aws:index/getAvailabilityZones:getAvailabilityZones #args=0
source_eval.go:560] ResourceMonitor.Invoke received: tok=aws:ssm/getParameter:getParameter #args=1
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudwatch/logGroup:LogGroup, name=api-logs, custom=true, #props=1, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudwatch/logGroup:LogGroup,name=api-logs,#props=1
step_executor.go:321] StepExecutor worker(3): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:Cluster, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-cluster[awsx:x:ecs:Cluster]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecs/cluster:Cluster, name=api-cluster, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:autoscaling:AutoScalingGroup, name=api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecs/cluster:Cluster, name=api-cluster
step_executor.go:321] StepExecutor worker(5): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:EC2Service, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[awsx:x:ecs:EC2Service]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator
step_executor.go:321] StepExecutor worker(4): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ecs:EC2TaskDefinition, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[awsx:x:ecs:EC2TaskDefinition]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-orchestrator-task, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecr/repository:Repository, name=khatm-images, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-orchestrator-execution, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecr/repository:Repository, name=khatm-images
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudwatch/logGroup:LogGroup, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-orchestrator-task
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-orchestrator-execution
step_executor.go:321] StepExecutor worker(6): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Vpc, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[awsx:x:ec2:Vpc]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc,,,,
eventsink.go:59] Ignoring AWS metadata API endpoint at default location as it doesn't return any instance-id
eventsink.go:59] AWS Auth provider used: "StaticProvider"
step_executor.go:321] StepExecutor worker(8): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-app-sg[awsx:x:ec2:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg,,,,
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:IngressSecurityGroupRule, name=lb-sg-in
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=all-out
eventsink.go:59] No assume_role block read from configuration
eventsink.go:59] Building AWS auth structure
eventsink.go:59] Setting AWS metadata API timeout to 100ms
step_executor.go:321] StepExecutor worker(7): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb:ApplicationLoadBalancer, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-alb[aws:lb:ApplicationLoadBalancer]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:lb:ApplicationTargetGroup, name=http-target, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb
eventsink.go:59] RegisterResource RPC prepared: t=awsx:lb:ApplicationTargetGroup, name=http-target
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecs/cluster:Cluster,name=api-cluster,#props=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg; err: null, resp:
step_executor.go:321] StepExecutor worker(9): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out (preview false)
step_executor.go:321] StepExecutor worker(9): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:http-out[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out
eventsink.go:59] Ignoring AWS metadata API endpoint at default location as it doesn't return any instance-id
eventsink.go:59] AWS Auth provider used: "EnvProvider"
eventsink.go:59] Trying to get account information via sts:GetCallerIdentity
eventsink.go:59] Trying to get account information via sts:GetCallerIdentity
eventsink.go:59] Reading Availability Zones.
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster,#outs=0
eventsink.go:59] Reading SSM Parameter: {
step_executor.go:321] StepExecutor worker(10): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(11): launching oneshot worker
step_executor.go:321] StepExecutor worker(10): applying step create on urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs (preview false)
eventsink.go:59] Creating CloudWatch Log Group: api-logs-eefd1a8
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator,#outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster::api-cluster; err: null, resp:
step_executor.go:321] StepExecutor worker(11): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster (preview false)
eventsink.go:59] Creating ECS cluster api-cluster-b15c3b9
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator: old=#0, new=#0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg,#outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2Service::api-orchestrator; err: null, resp:
eventsink.go:59] Invoke RPC finished: tok=aws:ssm/getParameter:getParameter; err: null, resp: arn,,,arn:aws:ssm:us-east-1:952442618488:parameter/aws/service/ecs/optimized-ami/amazon-linux/recommended,id,,,/aws/service/ecs/optimized-ami/amazon-linux/recommended,name,,,/aws/service/ecs/optimized-ami/amazon-linux/recommended,type,,,String,value,,,{"schema_version":1,"image_name":"amzn-ami-2018.03.20200430-amazon-ecs-optimized","image_id":"ami-040d7258a1baecb27","os":"Amazon Linux","ecs_runtime_version":"Docker version 19.03.6-ce","ecs_agent_version":"1.39.0"},version,,43,withDecryption,,,,true,
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg: old=#0, new=#0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:autoscaling:AutoScalingGroup,name=api-scale,#props=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator; err: null, resp:
eventsink.go:59] CloudWatch Log Group created
eventsink.go:59] Setting retention for CloudWatch Log Group: "api-logs-eefd1a8": {
eventsink.go:59]   LogGroupName: "api-logs-eefd1a8",
eventsink.go:59]   RetentionInDays: 7
eventsink.go:59] }
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb,#outs=0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudwatch/logGroup:LogGroup,name=api-orchestrator,#props=1
step_executor.go:321] StepExecutor worker(12): launching oneshot worker
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out,#outs=0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(13): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-orchestrator-task,#props=1
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb; err: null, resp:
step_executor.go:321] StepExecutor worker(12): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecr/repository:Repository,name=khatm-images,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(14): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-orchestrator-execution,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out; err: null, resp:
step_executor.go:321] StepExecutor worker(15): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:IngressSecurityGroupRule,name=lb-sg-in,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(17): launching oneshot worker
step_executor.go:321] StepExecutor worker(16): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=all-out,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:lb:ApplicationTargetGroup,name=http-target,#props=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(18): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(19): launching oneshot worker
step_executor.go:321] StepExecutor worker(13): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator (preview false)
eventsink.go:59] Creating CloudWatch Log Group: api-orchestrator-2c944f3
step_executor.go:321] StepExecutor worker(12): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:autoscaling:AutoScalingGroup, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[awsx:x:autoscaling:AutoScalingGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale,,,,
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration,name=api-scale,#props=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale: old=#0, new=#0
step_executor.go:321] StepExecutor worker(20): launching oneshot worker
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, name=api-scale
step_executor.go:321] StepExecutor worker(14): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task (preview false)
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(15): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images (preview false)
eventsink.go:59] Creating ECR repository: {
eventsink.go:59]   ImageTagMutability: "MUTABLE",
eventsink.go:59]   RepositoryName: "khatm-images-40c8d8a",
eventsink.go:59]   Tags: []
eventsink.go:59] }
eventsink.go:59] Found Log Group: {
eventsink.go:59]   Arn: "arn:aws:logs:us-east-1:952442618488:log-group:api-logs-eefd1a8:*",
eventsink.go:59]   CreationTime: 1589532072486,
eventsink.go:59]   LogGroupName: "api-logs-eefd1a8",
eventsink.go:59]   MetricFilterCount: 0,
eventsink.go:59]   RetentionInDays: 7,
eventsink.go:59]   StoredBytes: 0
eventsink.go:59] }
eventsink.go:59] CloudWatch Log Group created
eventsink.go:59] Setting retention for CloudWatch Log Group: "api-orchestrator-2c944f3": {
eventsink.go:59]   LogGroupName: "api-orchestrator-2c944f3",
eventsink.go:59]   RetentionInDays: 1
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(17): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in (preview false)
step_executor.go:321] StepExecutor worker(16): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution (preview false)
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(18): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out (preview false)
eventsink.go:59] ECR repository created: "arn:aws:ecr:us-east-1:952442618488:repository/khatm-images-40c8d8a"
eventsink.go:59] Reading ECR repository khatm-images-40c8d8a
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Reading CloudWatch Log Group: "api-orchestrator-2c944f3"
step_executor.go:321] StepExecutor worker(19): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target (preview false)
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale; err: null, resp:
step_executor.go:321] StepExecutor worker(20): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale (preview false)
step_executor.go:321] StepExecutor worker(17): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:IngressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:lb-sg-in[awsx:x:ec2:IngressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in: old=#0, new=#0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in
eventsink.go:59] Found Log Group: {
eventsink.go:59]   Arn: "arn:aws:logs:us-east-1:952442618488:log-group:api-orchestrator-2c944f3:*",
eventsink.go:59]   CreationTime: 1589532073250,
eventsink.go:59]   LogGroupName: "api-orchestrator-2c944f3",
eventsink.go:59]   MetricFilterCount: 0,
eventsink.go:59]   RetentionInDays: 1,
eventsink.go:59]   StoredBytes: 0
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(18): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:all-out[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out,#outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out
step_executor.go:321] StepExecutor worker(10): step create on urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudwatch/logGroup:LogGroup, urn=urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:api-logs[aws:cloudwatch/logGroup:LogGroup]; err: null, resp: urn:pulumi:production::khatm::aws:cloudwatch/logGroup:LogGroup::api-logs,api-logs-eefd1a8,arn,,,arn:aws:logs:us-east-1:952442618488:log-group:api-logs-eefd1a8:*,id,,,api-logs-eefd1a8,kmsKeyId,,,,name,,,api-logs-eefd1a8,retentionInDays,,7,tags,,,,,,,
step_executor.go:321] StepExecutor worker(19): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:lb:ApplicationTargetGroup, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:http-target[awsx:lb:ApplicationTargetGroup]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:lb:ApplicationListener, name=https-listener, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target
eventsink.go:59] RegisterResource RPC prepared: t=awsx:lb:ApplicationListener, name=https-listener
step_executor.go:321] StepExecutor worker(20): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:autoscaling:AutoScalingLaunchConfiguration, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[awsx:x:autoscaling:AutoScalingLaunchConfiguration]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:s3/bucket:Bucket, name=api-scale, custom=true, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/role:Role, name=api-scale, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:s3/bucket:Bucket, name=api-scale
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/role:Role, name=api-scale
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, #outs=0
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out: old=#0, new=#0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target,#outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in; err: null, resp:
step_executor.go:321] StepExecutor worker(14): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task, #outs=11
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task,api-orchestrator-task-7f11164,arn,,,arn:aws:iam::952442618488:role/api-orchestrator-task-7f11164,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Sid":"","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"},"Action":"sts:AssumeRole"}]},createDate,,,2020-05-15T08:41:13Z,description,,,,forceDetachPolicies,,,,false,id,,,api-orchestrator-task-7f11164,maxSessionDuration,,3600,name,,,api-orchestrator-task-7f11164,path,,,/,tags,,,,,,uniqueId,,,AROA53QQBAJ4ABHRWGUBK,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-32be53a2
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-task-fd1a00e5
step_executor.go:321] StepExecutor worker(16): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution, #outs=11
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-execution[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution,api-orchestrator-execution-70b3b97,arn,,,arn:aws:iam::952442618488:role/api-orchestrator-execution-70b3b97,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Sid":"","Effect":"Allow","Principal":{"Service":"ecs-tasks.amazonaws.com"},"Action":"sts:AssumeRole"}]},createDate,,,2020-05-15T08:41:13Z,description,,,,forceDetachPolicies,,,,false,id,,,api-orchestrator-execution-70b3b97,maxSessionDuration,,3600,name,,,api-orchestrator-execution-70b3b97,path,,,/,tags,,,,,,uniqueId,,,AROA53QQBAJ4HSKEIT6CL,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-orchestrator-execution-9a42f520
step_executor.go:321] StepExecutor worker(13): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudwatch/logGroup:LogGroup, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[aws:cloudwatch/logGroup:LogGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator,api-orchestrator-2c944f3,arn,,,arn:aws:logs:us-east-1:952442618488:log-group:api-orchestrator-2c944f3:*,id,,,api-orchestrator-2c944f3,kmsKeyId,,,,name,,,api-orchestrator-2c944f3,retentionInDays,,1,tags,,,,,,,
step_executor.go:321] StepExecutor worker(15): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecr/repository:Repository, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images, #outs=8
eventsink.go:59] RegisterResource RPC finished: resource:khatm-images[aws:ecr/repository:Repository]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images,khatm-images-40c8d8a,arn,,,arn:aws:ecr:us-east-1:952442618488:repository/khatm-images-40c8d8a,id,,,khatm-images-40c8d8a,imageScanningConfiguration,,,,,scanOnPush,,,,false,imageTagMutability,,,MUTABLE,name,,,khatm-images-40c8d8a,registryId,,,952442618488,repositoryUrl,,,952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a,tags,,,,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:560] ResourceMonitor.Invoke received: tok=aws:ecr/getCredentials:getCredentials #args=1
eventsink.go:59] Reading ECR repository credentials 952442618488
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, name=khatm-images
eventsink.go:59] Building container image at '"./app"'
eventsink.go:70] eventSink::Info(<{%reset%}>Starting docker build and push...<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Logging in to registry...<{%reset%}>)
eventsink.go:59] Invoking function: tok=aws:ecr/getCredentials:getCredentials asynchronously
eventsink.go:59] , obj={"registryId":"952442618488"}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, #outs=0
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target: old=#0, new=#0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:lb:ApplicationListener,name=https-listener,#props=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out; err: null, resp:
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, #outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:s3/bucket:Bucket,name=api-scale,#props=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(21): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(22): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/role:Role,name=api-scale,#props=1
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target; err: null, resp:
eventsink.go:59] Invoke RPC finished: tok=aws:ecr/getCredentials:getCredentials; err: null, resp: authorizationToken,,,QVdTOmV5SndZWGxzYjJGa0lqb2laMkV6WVRsMGVrNTNZbTltZVc1VGIzbDZRbTVHYTFvMk1FdEtTemx2WjFWaWVuUjFTbXRRZEVSSVdIbzFRVzFGWkRkM1RGUktValphYUZKRGFXWmphakpqUVhSb1FsTmpNRkZyT0hoUlN6Z3ZkSGtyUkc1RlNTdGFTelpYUmxKSlpXeGlOMjVpUzB4dFpYaEpOR2R6Um1SeVRHbGxTMUV3Vm5VeVMxUjFWVU5KYVhNMWFFcERZV0pNTW1WbGNqaFhXRXhRSzBob2VWTXZXR2xSWVZCNFZYcHJSbmhXWmxoSlVVZFNjVWRYZFdOdWNGZHpaM3BXYWtsTVlXRXpObmQxU2tKSk4xbHBXalF5Ykd0QlUzUnRSWEp5V0ZWTmFVeGtUekJoZEZVdmFrWmpWRFZ5V0hCQ2JteHhVbVZqV25SNmRFZGpaRzlYYTJSMVVYZDFaVWhHUTFkQlZVTmFZMW9yUjBKdlVGRnZkSEpPWm5ZNFdXRTVZV1p0VjBndlZVTlpURUV6Tm5oNFZUVkNORWc1VkcxdVpuTndLeTg1WW5WbE5tVnJZamhSVFhSc09IazJNSFZGTDJNeGJESTNiRlk1Y0ZodFRVRm1NazgxUzBJMFJFWnhhRGxMY1V4MVVtSTVLemR5VmxKeU9GTTJTM2t5ZVVOUlJsQkdTRVF5VGpWelRYZHBiRkp6WTNVdlZHbFljVTUzTDNsMlYzWjJSMnd3VkM5NFIwTlJTa3A2ZVd4RVozZGtXRlJqUVU1dVNETktPVE5VTDBGbll6RnVOa1V5ZUVsdWExQTNOM1ZtTUdGRE9ERkZPRVZITUV4MFZVZG1MMmd4VUd4bVkxbFJjV1YxVEdZeFkxcE5PRXQ1UmtGaE0zUjNOV3RyVWtkTVVIWktXbTFRVmtGSVpWRTJibUpwTjBneE5ETm5kVFJhZUZGbVpHRTRPRFoyU1RaRlNreFdMMUpQYlVKQ1FsaGlVMDlqVjBsTVVFazRhVzl4ZFV0Tk9WSmlibVJDUlROb05HOU9WRFZ6VFVsMGFGcERkbmN3VjJFNGFIbEpjMVl2WVRGaFkzSllTMVl3Y3pjMU5VZFdOMVJRWTJaRFNsVk1NMGREUVhCRFJETnJRMG9yV2xkV2NtMTBibEpVU0hneVpuUlZjRVZwY0hNNGRYcFdTMjVWU1c1S1VubGtaSGQxVldSWmFtUlRTMU0wTWpsalRIcEhTR3hoUkhwWVMwSjFVSFZaVkVNMmJHeFZTRVExUkRWU2VFUk5UMWQwTkc1a2VERk9UQzlyZUd4TFpXRXdOM1JYVWpKQ1dXOTFka3BSVkdGMWJ5OHlRMVZzT1VwclptVktVemRNVlVsQk1FRnhaVlJ3U0d3NFJGbzRla3BaY1dndmFrRnFUSE5XYVdWYU1tUlNWM1ZXUm1ReVdGQlhhR3BqYjNWSE1FRm9kbmxQYlRWbmRrc3hSbVUwVTI4eU1YQlNWRmRwYVVwV1FVSnZNVlV3VDJVNE56ZEdhREJVT0hwVlVIVkhTa3hJSzJNd01uQTNSMlpRWTI1M1UwaFplWEIyUXpSeWFXMUhUbk0xWTI1SGFqSlNaVTlTZFhwcFduQjFlR0lyYkZCQ1VXWnVkelJTTW5wMlUyTXpMemhTVVdKaGExWlZibFUxT1dFeGNWSjZTMHh6VDBRM1FWYzRlU3RXZFVselJVVTFRVE01VDJ3Mlpra3hja053Vm5CM1UyMHlWamt4WkM5NlMzSTNibUpHTjNkRWMweEZXVUppUWxGMWIycFZkVEpsTUUxcVdHUlljM1pWTm0xNVNVaE5RMWhwWkhjM2JYSmtXWGxtUVZoUFVYSkxjbEJLWXpkWVkxcFJObGQyVFdsUFFsZzBhV3dyTjNwVFRGazFTMFpIZVVGV2FsbFFVVE5xWW1reU5qTkNXalp3TlhsT2ExRkxSR3hKZFZCb2JWWkpVVkZXV0U1YVdXcFZORnBYTUN0NVMzY3dTa1ZNVVROWFRtdFpNMjVQSWl3aVpHRjBZV3RsZVNJNklrRlJSVUpCU0doM2JUQlpZVWxUU21WU2RFcHROVzR4UnpaMWNXVmxhMWgxYjFoWVVHVTFWVVpqWlRsU2NUZ3ZNVFIzUVVGQlNEUjNaa0ZaU2t0dldrbG9kbU5PUVZGalIyOUhPSGRpVVVsQ1FVUkNiMEpuYTNGb2EybEhPWGN3UWtKM1JYZElaMWxLV1VsYVNVRlhWVVJDUVVWMVRVSkZSVVJFTWpoSFZsbFBLM3BsSzFCWk56VlhkMGxDUlVsQk4zUkdaRTlPV0hoWmFtTXdOMjF3TTI1NlIwZzFlV2t2YVRZNFVISkhPRkI1YzNKeFYxcHVZV05DYmtReWVUWmxjRGh4YWtoRFdtdHJhMUZDZHpnMFVXazRPRzQwV2pScFdWWmxVbmRWYTJzOUlpd2lkbVZ5YzJsdmJpSTZJaklpTENKMGVYQmxJam9pUkVGVVFWOUxSVmtpTENKbGVIQnBjbUYwYVc5dUlqb3hOVGc1TlRjMU1qYzFmUT09,expiresAt,,,2020-05-15T20:41:15Z,id,,,952442618488,proxyEndpoint,,,https://952442618488.dkr.ecr.us-east-1.amazonaws.com,registryId,,,952442618488,
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker version -f {{json .}}'<{%reset%}>)
step_executor.go:321] StepExecutor worker(21): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-task-fd1a00e5,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-task-32be53a2,#props=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(23): launching oneshot worker
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-orchestrator-execution-9a42f520,#props=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(24): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(25): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecr/lifecyclePolicy:LifecyclePolicy,name=khatm-images,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(26): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(27): launching oneshot worker
step_executor.go:321] StepExecutor worker(22): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale (preview false)
eventsink.go:59] S3 bucket create: api-scale-878ce04
eventsink.go:59] S3 bucket api-scale-878ce04 has canned ACL private
eventsink.go:59] S3 bucket create: api-scale-878ce04, using region: us-east-1
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Trying to create new S3 bucket: "api-scale-878ce04"
step_executor.go:321] StepExecutor worker(21): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:lb:ApplicationListener, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:https-listener[awsx:lb:ApplicationListener]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener,,,,
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:IngressSecurityGroupRule,name=https-listener-external-0-ingress,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(28): launching oneshot worker
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener: old=#0, new=#0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress, custom=false, #props=0, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:EgressSecurityGroupRule,name=https-listener-external-0-egress,#props=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:IngressSecurityGroupRule, name=https-listener-external-0-ingress
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:EgressSecurityGroupRule, name=https-listener-external-0-egress
step_executor.go:321] StepExecutor worker(23): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale (preview false)
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:70] eventSink::Info(<{%reset%}>{"Client":{"Platform":{"Name":"Docker Engine - Community"},"Version":"19.03.8","ApiVersion":"1.40","DefaultAPIVersion":"1.40","GitCommit":"afacb8b","GoVersion":"go1.12.17","Os":"darwin","Arch":"amd64","BuildTime":"Wed Mar 11 01:21:11 2020","Experimental":false},"Server":{"Platform":{"Name":"Docker Engine - Community"},"Components":[{"Name":"Engine","Version":"19.03.8","Details":{"ApiVersion":"1.40","Arch":"amd64","BuildTime":"Wed Mar 11 01:29:16 2020","Experimental":"false","GitCommit":"afacb8b","GoVersion":"go1.12.17","KernelVersion":"4.19.76-linuxkit","MinAPIVersion":"1.12","Os":"linux"}},{"Name":"containerd","Version":"v1.2.13","Details":{"GitCommit":"7ad184331fa3e55e52b890ea95e65ba581ae3429"}},{"Name":"runc","Version":"1.0.0-rc10","Details":{"GitCommit":"dc9208a3303feef5b3839f4323d9beb36df0a9dd"}},{"Name":"docker-init","Version":"0.18.0","Details":{"GitCommit":"fec3683"}}],"Version":"19.03.8","ApiVersion":"1.40","MinAPIVersion":"1.12","GitCommit":"afacb8b","GoVersion":"go1.12.17","Os":"linux","Arch":"amd64","KernelVersion":"4.19.76-linuxkit","BuildTime":"2020-03-11T01:29:16.000000000+00:00"}}<{%reset%}>)
step_executor.go:321] StepExecutor worker(24): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5 (preview false)
eventsink.go:70] eventSink::Info(<{%reset%}>
<{%reset%}>)
eventsink.go:59] 'docker version' => {"Client":{"Platform":{"Name":"Docker Engine - Community"},"Version":"19.03.8","ApiVersion":"1.40","DefaultAPIVersion":"1.40","GitCommit":"afacb8b","GoVersion":"go1.12.17","Os":"darwin","Arch":"amd64","BuildTime":"Wed Mar 11 01:21:11 2020","Experimental":false},"Server":{"Platform":{"Name":"Docker Engine - Community"},"Components":[{"Name":"Engine","Version":"19.03.8","Details":{"ApiVersion":"1.40","Arch":"amd64","BuildTime":"Wed Mar 11 01:29:16 2020","Experimental":"false","GitCommit":"afacb8b","GoVersion":"go1.12.17","KernelVersion":"4.19.76-linuxkit","MinAPIVersion":"1.12","Os":"linux"}},{"Name":"containerd","Version":"v1.2.13","Details":{"GitCommit":"7ad184331fa3e55e52b890ea95e65ba581ae3429"}},{"Name":"runc","Version":"1.0.0-rc10","Details":{"GitCommit":"dc9208a3303feef5b3839f4323d9beb36df0a9dd"}},{"Name":"docker-init","Version":"0.18.0","Details":{"GitCommit":"fec3683"}}],"Version":"19.03.8","ApiVersion":"1.40","MinAPIVersion":"1.12","GitCommit":"afacb8b","GoVersion":"go1.12.17","Os":"linux","Arch":"amd64","KernelVersion":"4.19.76-linuxkit","BuildTime":"2020-03-11T01:29:16.000000000+00:00"}}
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker login'<{%reset%}>)
step_executor.go:321] StepExecutor worker(25): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2 (preview false)
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(26): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520 (preview false)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:793] ResourceMonitor.RegisterResource received: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0, custom=false, #props=0, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc, custom=true, #props=5, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:ec2/vpc:Vpc::khatm-app-vpc], customTimeouts={0 0 0}
eventsink.go:59] Invoke RPC finished: tok=aws:index/getAvailabilityZones:getAvailabilityZones; err: null, resp: groupNames,,,,,,,,us-east-1,id,,,2020-05-15 08:41:11.575408 +0000 UTC,names,,,,,,,,us-east-1a,,,us-east-1b,,,us-east-1c,,,us-east-1d,,,us-east-1e,,,us-east-1f,zoneIds,,,,,,,,use1-az1,,,use1-az2,,,use1-az4,,,use1-az6,,,use1-az3,,,use1-az5,
eventsink.go:59] Registering resource: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1, custom=true
eventsink.go:59] Registering resource: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc, custom=false
eventsink.go:59] Registering resource: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig, custom=true
eventsink.go:59] Registering resource: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig, custom=true
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:NatGateway, name=khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:InternetGateway, name=khatm-app-vpc
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-public-1
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResource RPC prepared: t=awsx:x:ec2:Subnet, name=khatm-app-vpc-private-1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/vpc:Vpc, name=khatm-app-vpc
step_executor.go:321] StepExecutor worker(27): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images (preview false)
step_executor.go:321] StepExecutor worker(28): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:InternetGateway,name=khatm-app-vpc,#props=0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc,#outs=0
step_executor.go:321] StepExecutor worker(29): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(30): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-private-1,#props=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener; err: null, resp:
step_executor.go:321] StepExecutor worker(28): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:IngressSecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-ingress[awsx:x:ec2:IngressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress
step_executor.go:321] StepExecutor worker(29): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc, #outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(31): launching oneshot worker
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress,#outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:NatGateway,name=khatm-app-vpc-0,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress: old=#0, new=#0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc::khatm-app-vpc; err: null, resp:
step_executor.go:321] StepExecutor worker(30): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc (preview false)
step_executor.go:321] StepExecutor worker(23): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/role:Role, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale, #outs=11
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:iam/role:Role]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale,api-scale-cb02e3b,arn,,,arn:aws:iam::952442618488:role/api-scale-cb02e3b,assumeRolePolicy,,,{"Version":"2012-10-17","Statement":[{"Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"},"Action":"sts:AssumeRole"}]},createDate,,,2020-05-15T08:41:16Z,description,,,,forceDetachPolicies,,,,false,id,,,api-scale-cb02e3b,maxSessionDuration,,3600,name,,,api-scale-cb02e3b,path,,,/,tags,,,,,,uniqueId,,,AROA53QQBAJ4I73U466QW,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-5e4162cd
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=api-scale-efc8f10d
step_executor.go:321] StepExecutor worker(29): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:EgressSecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-egress[awsx:x:ec2:EgressSecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress
step_executor.go:321] StepExecutor worker(31): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1 (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(32): launching oneshot worker
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-public-0,#props=0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-public-1,#props=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress,#outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress; err: null, resp:
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(34): launching oneshot worker
step_executor.go:321] StepExecutor worker(33): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress: old=#0, new=#0
source_eval.go:147] EvalSourceIterator produced a registration: t=awsx:x:ec2:Subnet,name=khatm-app-vpc-private-0,#props=0
step_executor.go:321] StepExecutor worker(24): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task-fd1a00e5[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-fd1a00e5,api-orchestrator-task-7f11164-20200515084117563700000001,id,,,api-orchestrator-task-7f11164-20200515084117563700000001,policyArn,,,arn:aws:iam::aws:policy/AmazonEC2ContainerServiceFullAccess,role,,,api-orchestrator-task-7f11164,,
eventsink.go:70] eventSink::Info(<{%reset%}>Login Succeeded
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Building container image 'f86f3e0c-container': context=./app<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker build ./app -t f86f3e0c-container'<{%reset%}>)
step_executor.go:321] StepExecutor worker(30): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:InternetGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[awsx:x:ec2:InternetGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc
step_executor.go:321] StepExecutor worker(27): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecr/lifecyclePolicy:LifecyclePolicy, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images, #outs=4
eventsink.go:59] RegisterResource RPC finished: resource:khatm-images[aws:ecr/lifecyclePolicy:LifecyclePolicy]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/lifecyclePolicy:LifecyclePolicy::khatm-images,khatm-images-40c8d8a,id,,,khatm-images-40c8d8a,policy,,,{"rules":[{"rulePriority":10,"description":"remove untagged images","selection":{"tagStatus":"untagged","countType":"imageCountMoreThan","countNumber":1},"action":{"type":"expire"}}]},registryId,,,952442618488,repository,,,khatm-images-40c8d8a,,
eventsink.go:70] eventSink::Info(<{%reset%}>Sending build context to Docker daemon  17.41kB

<{%reset%}>)
step_executor.go:321] StepExecutor worker(26): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-execution-9a42f520[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-execution-9a42f520,api-orchestrator-execution-70b3b97-20200515084117939800000002,id,,,api-orchestrator-execution-70b3b97-20200515084117939800000002,policyArn,,,arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy,role,,,api-orchestrator-execution-70b3b97,,
eventsink.go:70] eventSink::Info(<{%reset%}>Step 1/2 : FROM nginx
 ---> 602e111c06b6
Step 2/2 : COPY index.html /usr/share/nginx/html
 ---> Using cache
 ---> b4fc9cedae6c
Successfully built b4fc9cedae6c
<{%reset%}>)
67978 eventsink.go:70] eventSink::Info(<{%reset%}>Successfully tagged f86f3e0c-container:latest
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker image inspect -f {{.Id}} f86f3e0c-container'<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>sha256:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker tag f86f3e0c-container 952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c'<{%reset%}>)
step_executor.go:321] StepExecutor worker(25): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator-task-32be53a2[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-orchestrator-task-32be53a2,api-orchestrator-task-7f11164-20200515084117940000000003,id,,,api-orchestrator-task-7f11164-20200515084117940000000003,policyArn,,,arn:aws:iam::aws:policy/AWSLambdaFullAccess,role,,,api-orchestrator-task-7f11164,,
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker push 952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c'<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>The push refers to repository [952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a]
<{%reset%}>)
step_executor.go:321] StepExecutor worker(31): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1
step_executor.go:321] StepExecutor worker(32): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0 (preview false)
step_executor.go:321] StepExecutor worker(34): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1 (preview false)
eventsink.go:70] eventSink::Info(<{%reset%}>e0031283ecf5: Preparing
b3003aac411c: Preparing
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>216cf33c0a28: Preparing
c2adabaecedb: Preparing
<{%reset%}>)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/vpc:Vpc,name=khatm-app-vpc,#props=5
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(35): launching oneshot worker
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc: old=#0, new=#0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(36): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-scale-5e4162cd,#props=2
step_executor.go:321] StepExecutor worker(33): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0 (preview false)
step_executor.go:321] StepExecutor worker(32): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:NatGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[awsx:x:ec2:NatGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/eip:Eip, name=khatm-app-vpc-0
step_executor.go:321] StepExecutor worker(34): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1
step_executor.go:321] StepExecutor worker(35): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0 (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1: old=#0, new=#0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc; err: null, resp:
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0,#outs=0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(37): launching oneshot worker
step_executor.go:321] StepExecutor worker(36): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc (preview false)
eventsink.go:59] VPC create config: {
eventsink.go:59]   AmazonProvidedIpv6CidrBlock: false,
eventsink.go:59]   CidrBlock: "10.0.0.0/16",
eventsink.go:59]   InstanceTenancy: "default"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(33): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0,,,,
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0
step_executor.go:321] StepExecutor worker(35): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=awsx:x:ec2:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[awsx:x:ec2:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0,,,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0: old=#0, new=#0
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, #outs=0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment,name=api-scale-efc8f10d,#props=2
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1; err: null, resp:
step_executor.go:321] StepExecutor worker(37): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1: old=#0, new=#0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0; err: null, resp:
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(38): launching oneshot worker
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0,#outs=0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, #outs=0
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/eip:Eip,name=khatm-app-vpc-0,#props=2
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0: old=#0, new=#0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1; err: null, resp:
step_executor.go:321] StepExecutor worker(38): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d (preview false)
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, #outs=0
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0,#outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0: old=#0, new=#0
step_executor.go:321] StepExecutor worker(39): launching oneshot worker
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, #outs=0
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0; err: null, resp:
step_executor.go:321] StepExecutor worker(39): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 (preview false)
eventsink.go:59] EIP create configuration: {
eventsink.go:59]   Domain: "vpc"
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(37): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-scale-5e4162cd[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd,api-scale-cb02e3b-20200515084121620200000004,id,,,api-scale-cb02e3b-20200515084121620200000004,policyArn,,,arn:aws:iam::aws:policy/service-role/AmazonEC2ContainerServiceforEC2Role,role,,,api-scale-cb02e3b,,
eventsink.go:59] EIP Allocate: {
eventsink.go:59]   AllocationId: "eipalloc-09cbbe0822019ef9b",
eventsink.go:59]   Domain: "vpc",
eventsink.go:59]   NetworkBorderGroup: "us-east-1",
eventsink.go:59]   PublicIp: "52.0.170.117",
eventsink.go:59]   PublicIpv4Pool: "amazon"
eventsink.go:59] }
eventsink.go:59] EIP ID: eipalloc-09cbbe0822019ef9b (domain: vpc)
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:70] eventSink::Info(<{%reset%}>e0031283ecf5: Pushed
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>b3003aac411c: Pushed
<{%reset%}>)
step_executor.go:321] StepExecutor worker(38): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:api-scale-efc8f10d[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d,api-scale-cb02e3b-20200515084121958500000005,id,,,api-scale-cb02e3b-20200515084121958500000005,policyArn,,,arn:aws:iam::aws:policy/AmazonEC2ReadOnlyAccess,role,,,api-scale-cb02e3b,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-5e4162cd urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/rolePolicyAttachment:RolePolicyAttachment::api-scale-efc8f10d urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/role:Role::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:iam/instanceProfile:InstanceProfile,name=api-scale,#props=1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:iam/instanceProfile:InstanceProfile, name=api-scale
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(40): launching oneshot worker
step_executor.go:321] StepExecutor worker(40): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale (preview false)
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(39): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/eip:Eip, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0, #outs=11
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[aws:ec2/eip:Eip]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0,eipalloc-09cbbe0822019ef9b,associationId,,,,domain,,,vpc,id,,,eipalloc-09cbbe0822019ef9b,instance,,,,networkInterface,,,,privateIp,,,,publicDns,,,ec2-52-0-170-117.compute-1.amazonaws.com,publicIp,,,52.0.170.117,publicIpv4Pool,,,amazon,tags,,,,,Name,,,khatm-app-vpc-0,vpc,,,,true,,
eventsink.go:59] Reading ECS Cluster: {
eventsink.go:59]   Clusters: ["arn:aws:ecs:us-east-1:952442618488:cluster/api-cluster-b15c3b9"],
eventsink.go:59]   Include: ["TAGS"]
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(22): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:s3/bucket:Bucket, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale, #outs=21
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:s3/bucket:Bucket]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale,api-scale-878ce04,accelerationStatus,,,,acl,,,private,arn,,,arn:aws:s3:::api-scale-878ce04,bucket,,,api-scale-878ce04,bucketDomainName,,,api-scale-878ce04.s3.amazonaws.com,bucketRegionalDomainName,,,api-scale-878ce04.s3.amazonaws.com,corsRules,,,,,,,forceDestroy,,,,false,grants,,,,,,,hostedZoneId,,,Z3AQBSTGFYJSTF,id,,,api-scale-878ce04,lifecycleRules,,,,,,,loggings,,,,,,,objectLockConfiguration,0,region,,,us-east-1,replicationConfiguration,0,requestPayer,,,BucketOwner,serverSideEncryptionConfiguration,0,tags,,,,,,versioning,,,,,enabled,,,,false,mfaDelete,,,,false,website,0,,
step_executor.go:321] StepExecutor worker(11): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecs/cluster:Cluster, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster, #outs=7
eventsink.go:59] RegisterResource RPC finished: resource:api-cluster[aws:ecs/cluster:Cluster]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster,arn:aws:ecs:us-east-1:952442618488:cluster/api-cluster-b15c3b9,arn,,,arn:aws:ecs:us-east-1:952442618488:cluster/api-cluster-b15c3b9,capacityProviders,,,,,,,defaultCapacityProviderStrategies,,,,,,,id,,,arn:aws:ecs:us-east-1:952442618488:cluster/api-cluster-b15c3b9,name,,,api-cluster-b15c3b9,settings,,,,,,,,,,name,,,containerInsights,value,,,disabled,tags,,,,,,,
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(40): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:iam/instanceProfile:InstanceProfile, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale, #outs=8
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:iam/instanceProfile:InstanceProfile]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale,api-scale-726f42c,arn,,,arn:aws:iam::952442618488:instance-profile/api-scale-726f42c,createDate,,,2020-05-15T08:41:23Z,id,,,api-scale-726f42c,name,,,api-scale-726f42c,path,,,/,role,,,api-scale-cb02e3b,roles,,,,,,,uniqueId,,,AIPA53QQBAJ4CMK6LTZA6,,
step_executor.go:321] StepExecutor worker(36): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/vpc:Vpc, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc, #outs=19
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[aws:ec2/vpc:Vpc]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc,vpc-079b90a573f8ff555,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:vpc/vpc-079b90a573f8ff555,assignGeneratedIpv6CidrBlock,,,,false,cidrBlock,,,10.0.0.0/16,defaultNetworkAclId,,,acl-01c8186cf61fbe6eb,defaultRouteTableId,,,rtb-059cba8b5c7b6fbb7,defaultSecurityGroupId,,,sg-083c5cce5d15ced2e,dhcpOptionsId,,,dopt-b0c22eca,enableClassiclink,,,,false,enableClassiclinkDnsSupport,,,,false,enableDnsHostnames,,,,true,enableDnsSupport,,,,true,id,,,vpc-079b90a573f8ff555,instanceTenancy,,,default,ipv6AssociationId,,,,ipv6CidrBlock,,,,mainRouteTableId,,,rtb-059cba8b5c7b6fbb7,ownerId,,,952442618488,tags,,,,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-public-1,#props=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-public-1,#props=1
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/targetGroup:TargetGroup, name=http-target, custom=true, #props=6, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup::http-target, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::16093feb urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:elasticloadbalancingv2/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-lb-sg, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc, custom=true, #props=1, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway::khatm-app-vpc, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup::khatm-app-app-sg, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$aws:ec2/vpc:Vpc::khatm-app-vpc], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/internetGateway:InternetGateway, name=khatm-app-vpc
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(41): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-private-0,#props=6
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-lb-sg
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-private-1,#props=1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(42): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroup:SecurityGroup, name=khatm-app-app-sg
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-private-0,#props=1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(43): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-private-1,#props=6
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(44): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/subnet:Subnet,name=khatm-app-vpc-public-0,#props=6
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(45): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-public-1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(46): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTable:RouteTable,name=khatm-app-vpc-public-0,#props=1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/targetGroup:TargetGroup,name=http-target,#props=6
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(47): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTable:RouteTable, name=khatm-app-vpc-private-1
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroup:SecurityGroup,name=khatm-app-lb-sg,#props=2
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(48): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(49): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/internetGateway:InternetGateway,name=khatm-app-vpc,#props=1
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-public-1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
step_executor.go:321] StepExecutor worker(50): launching oneshot worker
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroup:SecurityGroup,name=khatm-app-app-sg,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(51): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-0
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/subnet:Subnet, name=khatm-app-vpc-private-1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(52): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/targetGroup:TargetGroup, name=http-target
step_executor.go:321] StepExecutor worker(41): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 (preview false)
step_executor.go:321] StepExecutor worker(42): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 (preview false)
eventsink.go:59] RouteTable create config: {
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(43): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 (preview false)
step_executor.go:321] StepExecutor worker(44): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 (preview false)
eventsink.go:59] RouteTable create config: {
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(45): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 (preview false)
eventsink.go:59] RouteTable create config: {
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
eventsink.go:59] Subnet ID: subnet-0fa8a3b368a451d7c
eventsink.go:59] Waiting for subnet (subnet-0fa8a3b368a451d7c) to become available
eventsink.go:59] Waiting for state to become: [available]
eventsink.go:59] Route Table ID: rtb-0e5303c17579fc15d
step_executor.go:321] StepExecutor worker(46): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 (preview false)
eventsink.go:59] Waiting for route table (rtb-0e5303c17579fc15d) to become available
eventsink.go:59] Waiting for state to become: [ready]
step_executor.go:321] StepExecutor worker(47): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 (preview false)
eventsink.go:59] Subnet ID: subnet-0cdc7df7de630a194
eventsink.go:59] Waiting for subnet (subnet-0cdc7df7de630a194) to become available
eventsink.go:59] Waiting for state to become: [available]
eventsink.go:59] Route Table ID: rtb-01eccbe6428997cc3
eventsink.go:59] Waiting for route table (rtb-01eccbe6428997cc3) to become available
eventsink.go:59] Waiting for state to become: [ready]
step_executor.go:321] StepExecutor worker(48): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 (preview false)
eventsink.go:59] RouteTable create config: {
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(49): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target (preview false)
step_executor.go:321] StepExecutor worker(50): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg (preview false)
eventsink.go:59] Security Group create configuration: {
eventsink.go:59]   Description: "Managed by Pulumi",
eventsink.go:59]   GroupName: "khatm-app-lb-sg-f75202c",
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(51): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc (preview false)
eventsink.go:59] Creating internet gateway
step_executor.go:321] StepExecutor worker(52): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg (preview false)
eventsink.go:59] Security Group create configuration: {
eventsink.go:59]   Description: "Managed by Pulumi",
eventsink.go:59]   GroupName: "khatm-app-app-sg-014fe25",
eventsink.go:59]   VpcId: "vpc-079b90a573f8ff555"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(49): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/targetGroup:TargetGroup, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target, #outs=16
eventsink.go:59] RegisterResource RPC finished: resource:http-target[aws:lb/targetGroup:TargetGroup]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target,arn:aws:elasticloadbalancing:us-east-1:952442618488:targetgroup/http-target-f05d673/42b52008eeee6a5f,arn,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:targetgroup/http-target-f05d673/42b52008eeee6a5f,arnSuffix,,,targetgroup/http-target-f05d673/42b52008eeee6a5f,deregistrationDelay,,300,healthCheck,,,,,enabled,,,,true,healthyThreshold,,5,interval,,30,matcher,,,200,path,,,/,port,,,traffic-port,protocol,,,HTTP,timeout,,5,unhealthyThreshold,,2,id,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:targetgroup/http-target-f05d673/42b52008eeee6a5f,lambdaMultiValueHeadersEnabled,,,,false,loadBalancingAlgorithmType,,,round_robin,name,,,http-target-f05d673,port,,80,protocol,,,HTTP,proxyProtocolV2,,,,false,slowStart,,0,stickiness,,,,,cookieDuration,,86400,enabled,,,,false,type,,,lb_cookie,tags,,,,,Name,,,http-target,targetType,,,ip,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] InternetGateway ID: igw-0c9ffd5f931d175c0
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Route Table ID: rtb-092edd8072f642f06
eventsink.go:59] Waiting for route table (rtb-092edd8072f642f06) to become available
eventsink.go:59] Waiting for state to become: [ready]
eventsink.go:59] Route Table ID: rtb-015995d4fa6804088
eventsink.go:59] Waiting for route table (rtb-015995d4fa6804088) to become available
eventsink.go:59] Waiting for state to become: [ready]
eventsink.go:59] Security Group ID: sg-08ef82add7b100668
eventsink.go:59] Waiting for Security Group (sg-08ef82add7b100668) to exist
eventsink.go:59] Waiting for state to become: [exists]
eventsink.go:59] Subnet ID: subnet-0abaf2e69b9bb2b32
eventsink.go:59] Waiting for subnet (subnet-0abaf2e69b9bb2b32) to become available
eventsink.go:59] Waiting for state to become: [available]
eventsink.go:59] Security Group ID: sg-07155c655fcac74b3
eventsink.go:59] Waiting for Security Group (sg-07155c655fcac74b3) to exist
eventsink.go:59] Waiting for state to become: [exists]
eventsink.go:59] Subnet ID: subnet-0a4cbe6294cc8dd53
eventsink.go:59] Waiting for subnet (subnet-0a4cbe6294cc8dd53) to become available
eventsink.go:59] Waiting for state to become: [available]
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Attaching Internet Gateway 'igw-0c9ffd5f931d175c0' to VPC 'vpc-079b90a573f8ff555'
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Revoking default egress rule for Security Group for sg-08ef82add7b100668
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Revoking default egress rule for Security Group for sg-07155c655fcac74b3
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(42): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1,rtb-0e5303c17579fc15d,id,,,rtb-0e5303c17579fc15d,ownerId,,,952442618488,propagatingVgws,,,,,,,routes,,,,,,,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] Waiting for internet gateway (igw-0c9ffd5f931d175c0) to attach
eventsink.go:59] Waiting for state to become: [available]
step_executor.go:321] StepExecutor worker(44): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1,rtb-01eccbe6428997cc3,id,,,rtb-01eccbe6428997cc3,ownerId,,,952442618488,propagatingVgws,,,,,,,routes,,,,,,,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] Revoking default IPv6 egress rule for Security Group for sg-08ef82add7b100668
step_executor.go:321] StepExecutor worker(48): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0,rtb-092edd8072f642f06,id,,,rtb-092edd8072f642f06,ownerId,,,952442618488,propagatingVgws,,,,,,,routes,,,,,,,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] Revoking default IPv6 egress rule for Security Group for sg-07155c655fcac74b3
step_executor.go:321] StepExecutor worker(45): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTable:RouteTable, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0, #outs=6
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/routeTable:RouteTable]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0,rtb-015995d4fa6804088,id,,,rtb-015995d4fa6804088,ownerId,,,952442618488,propagatingVgws,,,,,,,routes,,,,,,,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] Waiting for Security Group (sg-08ef82add7b100668) to exist
eventsink.go:59] Waiting for state to become: [exists]
step_executor.go:321] StepExecutor worker(43): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0,subnet-0cdc7df7de630a194,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:subnet/subnet-0cdc7df7de630a194,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1a,availabilityZoneId,,,use1-az1,cidrBlock,,,10.0.128.0/18,id,,,subnet-0cdc7df7de630a194,ipv6CidrBlock,,,,ipv6CidrBlockAssociationId,,,,mapPublicIpOnLaunch,,,,false,outpostArn,,,,ownerId,,,952442618488,tags,,,,,Name,,,khatm-app-vpc-private-0,type,,,private,vpcId,,,vpc-079b90a573f8ff555,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-private-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(53): launching oneshot worker
step_executor.go:321] StepExecutor worker(53): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 (preview false)
eventsink.go:59] Creating route table association: subnet-0cdc7df7de630a194 => rtb-015995d4fa6804088
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(46): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1,subnet-0a4cbe6294cc8dd53,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:subnet/subnet-0a4cbe6294cc8dd53,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1b,availabilityZoneId,,,use1-az2,cidrBlock,,,10.0.192.0/18,id,,,subnet-0a4cbe6294cc8dd53,ipv6CidrBlock,,,,ipv6CidrBlockAssociationId,,,,mapPublicIpOnLaunch,,,,false,outpostArn,,,,ownerId,,,952442618488,tags,,,,,Name,,,khatm-app-vpc-private-1,type,,,private,vpcId,,,vpc-079b90a573f8ff555,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-private-1,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-private-1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(54): launching oneshot worker
step_executor.go:321] StepExecutor worker(54): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 (preview false)
eventsink.go:59] Creating route table association: subnet-0a4cbe6294cc8dd53 => rtb-01eccbe6428997cc3
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for Security Group (sg-08ef82add7b100668) to exist
eventsink.go:59] Waiting for state to become: [exists]
eventsink.go:59] Waiting for Security Group (sg-07155c655fcac74b3) to exist
eventsink.go:59] Waiting for state to become: [exists]
step_executor.go:321] StepExecutor worker(51): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/internetGateway:InternetGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc, #outs=4
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc[aws:ec2/internetGateway:InternetGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc,igw-0c9ffd5f931d175c0,id,,,igw-0c9ffd5f931d175c0,ownerId,,,952442618488,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-public-0-ig,#props=3
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:InternetGateway$aws:ec2/internetGateway:InternetGateway::khatm-app-vpc urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-public-1-ig,#props=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-public-0-ig
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(55): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(56): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-public-1-ig
step_executor.go:321] StepExecutor worker(41): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1,subnet-0fa8a3b368a451d7c,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:subnet/subnet-0fa8a3b368a451d7c,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1b,availabilityZoneId,,,use1-az2,cidrBlock,,,10.0.64.0/18,id,,,subnet-0fa8a3b368a451d7c,ipv6CidrBlock,,,,ipv6CidrBlockAssociationId,,,,mapPublicIpOnLaunch,,,,true,outpostArn,,,,ownerId,,,952442618488,tags,,,,,Name,,,khatm-app-vpc-public-1,type,,,public,vpcId,,,vpc-079b90a573f8ff555,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-public-1,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-1
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(57): launching oneshot worker
step_executor.go:321] StepExecutor worker(47): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/subnet:Subnet, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/subnet:Subnet]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0,subnet-0abaf2e69b9bb2b32,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:subnet/subnet-0abaf2e69b9bb2b32,assignIpv6AddressOnCreation,,,,false,availabilityZone,,,us-east-1a,availabilityZoneId,,,use1-az1,cidrBlock,,,10.0.0.0/18,id,,,subnet-0abaf2e69b9bb2b32,ipv6CidrBlock,,,,ipv6CidrBlockAssociationId,,,,mapPublicIpOnLaunch,,,,true,outpostArn,,,,ownerId,,,952442618488,tags,,,,,Name,,,khatm-app-vpc-public-0,type,,,public,vpcId,,,vpc-079b90a573f8ff555,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-public-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/routeTableAssociation:RouteTableAssociation,name=khatm-app-vpc-public-0,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(58): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/routeTableAssociation:RouteTableAssociation, name=khatm-app-vpc-public-0
step_executor.go:321] StepExecutor worker(55): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig (preview false)
eventsink.go:59] Route create config: {
eventsink.go:59]   DestinationCidrBlock: "0.0.0.0/0",
eventsink.go:59]   GatewayId: "igw-0c9ffd5f931d175c0",
eventsink.go:59]   RouteTableId: "rtb-092edd8072f642f06"
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(56): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig (preview false)
eventsink.go:59] Route create config: {
eventsink.go:59]   DestinationCidrBlock: "0.0.0.0/0",
eventsink.go:59]   GatewayId: "igw-0c9ffd5f931d175c0",
eventsink.go:59]   RouteTableId: "rtb-0e5303c17579fc15d"
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(53): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0,rtbassoc-09778d2a043d2af8a,id,,,rtbassoc-09778d2a043d2af8a,routeTableId,,,rtb-015995d4fa6804088,subnetId,,,subnet-0cdc7df7de630a194,,
step_executor.go:321] StepExecutor worker(57): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1 (preview false)
eventsink.go:59] Creating route table association: subnet-0fa8a3b368a451d7c => rtb-0e5303c17579fc15d
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(58): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 (preview false)
eventsink.go:59] Creating route table association: subnet-0abaf2e69b9bb2b32 => rtb-092edd8072f642f06
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(54): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1,rtbassoc-00d1c3efd38d9ccd2,id,,,rtbassoc-00d1c3efd38d9ccd2,routeTableId,,,rtb-01eccbe6428997cc3,subnetId,,,subnet-0a4cbe6294cc8dd53,,
eventsink.go:59] Association ID: rtbassoc-03ec3efe28ff13470
step_executor.go:321] StepExecutor worker(52): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroup:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg, #outs=11
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-app-sg[aws:ec2/securityGroup:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg,sg-08ef82add7b100668,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:security-group/sg-08ef82add7b100668,description,,,Managed by Pulumi,egress,,,,,,,id,,,sg-08ef82add7b100668,ingress,,,,,,,name,,,khatm-app-app-sg-014fe25,ownerId,,,952442618488,revokeRulesOnDelete,,,,false,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=all-out, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::all-out, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=all-out,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale, custom=true, #props=9, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:iam/instanceProfile:InstanceProfile::api-scale urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg urn:pulumi:production::khatm::awsx:x:ecs:Cluster$aws:ecs/cluster:Cluster::api-cluster urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/launchConfiguration:LaunchConfiguration,name=api-scale,#props=9
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/launchConfiguration:LaunchConfiguration, name=api-scale
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(59): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(60): launching oneshot worker
step_executor.go:321] StepExecutor worker(50): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroup:SecurityGroup, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg, #outs=11
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule::lb-sg-in, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-app-sg urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=lb-sg-in,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress, custom=true, #props=7, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule::https-listener-external-0-ingress, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=https-listener-external-0-ingress,#props=7
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress, custom=true, #props=7, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule::https-listener-external-0-egress, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out, custom=true, #props=7, parent=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule::http-out, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(61): launching oneshot worker
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=https-listener-external-0-egress,#props=7
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/securityGroupRule:SecurityGroupRule,name=http-out,#props=7
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(62): launching oneshot worker
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(63): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(64): launching oneshot worker
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-lb-sg[aws:ec2/securityGroup:SecurityGroup]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg,sg-07155c655fcac74b3,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ec2:us-east-1:952442618488:security-group/sg-07155c655fcac74b3,description,,,Managed by Pulumi,egress,,,,,,,id,,,sg-07155c655fcac74b3,ingress,,,,,,,name,,,khatm-app-lb-sg-f75202c,ownerId,,,952442618488,revokeRulesOnDelete,,,,false,tags,,,,,,vpcId,,,vpc-079b90a573f8ff555,,
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=http-out
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=lb-sg-in
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-ingress
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/securityGroupRule:SecurityGroupRule, name=https-listener-external-0-egress
step_executor.go:321] StepExecutor worker(57): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1,rtbassoc-03ec3efe28ff13470,id,,,rtbassoc-03ec3efe28ff13470,routeTableId,,,rtb-0e5303c17579fc15d,subnetId,,,subnet-0fa8a3b368a451d7c,,
step_executor.go:321] StepExecutor worker(59): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out (preview false)
eventsink.go:59] Locking "sg-08ef82add7b100668"
eventsink.go:59] Locked "sg-08ef82add7b100668"
step_executor.go:321] StepExecutor worker(60): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale (preview false)
eventsink.go:59] Describing AMI "ami-040d7258a1baecb27" to get root block device name
step_executor.go:321] StepExecutor worker(55): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0-ig[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-0-ig,r-rtb-092edd8072f642f061080289494,destinationCidrBlock,,,0.0.0.0/0,destinationPrefixListId,,,,egressOnlyGatewayId,,,,gatewayId,,,igw-0c9ffd5f931d175c0,id,,,r-rtb-092edd8072f642f061080289494,instanceId,,,,instanceOwnerId,,,,natGatewayId,,,,networkInterfaceId,,,,origin,,,CreateRoute,routeTableId,,,rtb-092edd8072f642f06,state,,,active,transitGatewayId,,,,vpcPeeringConnectionId,,,,,
step_executor.go:321] StepExecutor worker(61): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in (preview false)
eventsink.go:59] Locking "sg-08ef82add7b100668"
eventsink.go:59] Authorizing security group sg-08ef82add7b100668 Egress rule: {
eventsink.go:59]   IpProtocol: "-1",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "allow all http out"
eventsink.go:59]     }]
eventsink.go:59] }
eventsink.go:59] Describing AMI "ami-040d7258a1baecb27" to get root block device name
step_executor.go:321] StepExecutor worker(62): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress (preview false)
eventsink.go:59] Locking "sg-07155c655fcac74b3"
eventsink.go:59] Locked "sg-07155c655fcac74b3"
eventsink.go:70] eventSink::Info(<{%reset%}>216cf33c0a28: Pushed
<{%reset%}>)
eventsink.go:59] autoscaling create launch configuration: {
eventsink.go:59]   BlockDeviceMappings: [{
eventsink.go:59]       DeviceName: "/dev/xvdcz",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 50,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     },{
eventsink.go:59]       DeviceName: "/dev/xvdb",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 5,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     },{
eventsink.go:59]       DeviceName: "/dev/xvda",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 8,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     }],
eventsink.go:59]   EbsOptimized: false,
eventsink.go:59]   IamInstanceProfile: "api-scale-726f42c",
eventsink.go:59]   ImageId: "ami-040d7258a1baecb27",
eventsink.go:59]   InstanceMonitoring: {
eventsink.go:59]     Enabled: true
eventsink.go:59]   },
eventsink.go:59]   InstanceType: "t2.nano",
eventsink.go:59]   LaunchConfigurationName: "api-scale-597e474",
eventsink.go:59]   PlacementTenancy: "default",
eventsink.go:59]   SecurityGroups: ["sg-08ef82add7b100668"],
eventsink.go:59]   UserData: "I2Nsb3VkLWNvbmZpZwogICAgICAgIHJlcG9fdXBncmFkZV9leGNsdWRlOgogICAgICAgICAgICAtIGtlcm5lbCoKICAgICAgICBwYWNrYWdlczoKICAgICAgICAgICAgLSBhd3MtY2ZuLWJvb3RzdHJhcAogICAgICAgICAgICAtIGF3cy1jbGkKICAgICAgICAgICAgLSBuZnMtdXRpbHMKICAgICAgICBtb3VudHM6CiAgICAgICAgICAgIC0gWycvZGV2L3h2ZGInLCAnbm9uZScsICdzd2FwJywgJ3N3JywgJzAnLCAnMCddCiAgICAgICAgYm9vdGNtZDoKICAgICAgICAgICAgLSBta3N3YXAgL2Rldi94dmRiCiAgICAgICAgICAgIC0gc3dhcG9uIC9kZXYveHZkYgogICAgICAgICAgICAtIGVjaG8gRUNTX0VOR0lORV9BVVRIX1RZUEU9ZG9ja2VyID4+IC9ldGMvZWNzL2Vjcy5jb25maWcKICAgICAgICAgICAgLSBlY2hvIEVDU19DTFVTVEVSPSdhcm46YXdzOmVjczp1cy1lYXN0LTE6OTUyNDQyNjE4NDg4OmNsdXN0ZXIvYXBpLWNsdXN0ZXItYjE1YzNiOScgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwogICAgICAgIHJ1bmNtZDoKICAgICAgICAgICAgIyBTZXQgYW5kIHVzZSB2YXJpYWJsZXMgaW4gdGhlIHNhbWUgY29tbWFuZCwgc2luY2UgaXQncyBub3Qgb2J2aW91cyBpZgogICAgICAgICAgICAjIGRpZmZlcmVudCBjb21tYW5kcyB3aWxsIHJ1biBpbiBkaWZmZXJlbnQgc2hlbGxzLgogICAgICAgICAgICAtIHwKICAgICAgICAgICAgICAgICMgS25vY2sgb25lIGxldHRlciBvZmYgb2YgYXZhaWxhYmlsaXR5IHpvbmUgdG8gZ2V0IHJlZ2lvbi4KICAgICAgICAgICAgICAgIEFXU19BVkFJTEFCSUxJVFlfWk9ORT0kKGN1cmwgLXMgMTY5LjI1NC4xNjkuMjU0LzIwMTYtMDktMDIvbWV0YS1kYXRhL3BsYWNlbWVudC9hdmFpbGFiaWxpdHktem9uZSkKICAgICAgICAgICAgICAgIEFXU19SRUdJT049JChlY2hvICRBV1NfQVZBSUxBQklMSVRZX1pPTkUgfCBzZWQgJ3MvLiQvLycpCgoKICAgICAgICAgICAgICAgICMgRGlzYWJsZSBjb250YWluZXIgYWNjZXNzIHRvIEVDMiBtZXRhZGF0YSBpbnN0YW5jZQogICAgICAgICAgICAgICAgIyBTZWUgaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vQW1hem9uRUNTL2xhdGVzdC9kZXZlbG9wZXJndWlkZS9pbnN0YW5jZV9JQU1fcm9sZS5odG1sCiAgICAgICAgICAgICAgICBpcHRhYmxlcyAtLWluc2VydCBGT1JXQVJEIDEgLS1pbi1pbnRlcmZhY2UgZG9ja2VyKyAtLWRlc3RpbmF0aW9uIDE2OS4yNTQuMTY5LjI1NC8zMiAtLWp1bXAgRFJPUAogICAgICAgICAgICAgICAgc2VydmljZSBpcHRhYmxlcyBzYXZlCgogICAgICAgICAgICAgICAgL29wdC9hd3MvYmluL2Nmbi1zaWduYWwgICAgICAgICAgICAgICAgICAgICAtLXJlZ2lvbiAiJHtBV1NfUkVHSU9OfSIgICAgICAgICAgICAgICAgICAgICAtLXN0YWNrICJhcGktc2NhbGUtODc4Y2UwNCIgICAgICAgICAgICAgICAgICAgICAtLXJlc291cmNlIEluc3RhbmNlcwogICAgICAgIA=="
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Authorizing security group sg-07155c655fcac74b3 Ingress rule: {
eventsink.go:59]   FromPort: 443,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "Externally available at port 443"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 443
eventsink.go:59] }
eventsink.go:59] Computed group rule ID sgrule-3976211952
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(63): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress (preview false)
eventsink.go:59] Locking "sg-07155c655fcac74b3"
step_executor.go:321] StepExecutor worker(64): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out (preview false)
eventsink.go:59] Locking "sg-07155c655fcac74b3"
eventsink.go:59] Computed group rule ID sgrule-910081694
step_executor.go:321] StepExecutor worker(56): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig, #outs=14
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] launch configuration ID: api-scale-597e474
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-1-ig[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-public-1-ig,r-rtb-0e5303c17579fc15d1080289494,destinationCidrBlock,,,0.0.0.0/0,destinationPrefixListId,,,,egressOnlyGatewayId,,,,gatewayId,,,igw-0c9ffd5f931d175c0,id,,,r-rtb-0e5303c17579fc15d1080289494,instanceId,,,,instanceOwnerId,,,,natGatewayId,,,,networkInterfaceId,,,,origin,,,CreateRoute,routeTableId,,,rtb-0e5303c17579fc15d,state,,,active,transitGatewayId,,,,vpcPeeringConnectionId,,,,,
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Found rule for Security Group Rule (sgrule-3976211952): {
eventsink.go:59]   IpProtocol: "-1",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "allow all http out"
eventsink.go:59]     }]
eventsink.go:59] }
eventsink.go:59] Unlocking "sg-08ef82add7b100668"
eventsink.go:59] Unlocked "sg-08ef82add7b100668"
eventsink.go:59] launch configuration describe configuration: {
eventsink.go:59]   LaunchConfigurationNames: ["api-scale-597e474"]
eventsink.go:59] }
eventsink.go:59] Locked "sg-08ef82add7b100668"
step_executor.go:321] StepExecutor worker(58): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/routeTableAssociation:RouteTableAssociation, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0, #outs=3
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-public-0[aws:ec2/routeTableAssociation:RouteTableAssociation]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0,rtbassoc-04f75b7d9e58566e6,id,,,rtbassoc-04f75b7d9e58566e6,routeTableId,,,rtb-092edd8072f642f06,subnetId,,,subnet-0abaf2e69b9bb2b32,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway::khatm-app-vpc-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/eip:Eip::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/natGateway:NatGateway,name=khatm-app-vpc-0,#props=2
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb, custom=true, #props=5, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer::api-alb, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$aws:ec2/securityGroup:SecurityGroup::khatm-app-lb-sg urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-public-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-public-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::e949040e urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:elasticloadbalancingv2/loadBalancer:LoadBalancer::api-alb urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/loadBalancer:LoadBalancer,name=api-alb,#props=5
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/natGateway:NatGateway, name=khatm-app-vpc-0
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(65): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/loadBalancer:LoadBalancer, name=api-alb
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(66): launching oneshot worker
step_executor.go:321] StepExecutor worker(59): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out, #outs=10
eventsink.go:59] RegisterResource RPC finished: resource:all-out[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::all-out,sgrule-3976211952,__meta,,,{"schema_version":"2"},cidrBlocks,,,,,,,,0.0.0.0/0,description,,,allow all http out,fromPort,,0,id,,,sgrule-3976211952,protocol,,,-1,securityGroupId,,,sg-08ef82add7b100668,self,,,,false,toPort,,0,type,,,egress,,
step_executor.go:321] StepExecutor worker(65): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 (preview false)
eventsink.go:59] Create NAT Gateway: {
eventsink.go:59]   AllocationId: "eipalloc-09cbbe0822019ef9b",
eventsink.go:59]   SubnetId: "subnet-0abaf2e69b9bb2b32"
eventsink.go:59] }
eventsink.go:59] Authorizing security group sg-08ef82add7b100668 Ingress rule: {
eventsink.go:59]   FromPort: 80,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   ToPort: 80,
eventsink.go:59]   UserIdGroupPairs: [{
eventsink.go:59]       Description: "allow http from lb in",
eventsink.go:59]       GroupId: "sg-07155c655fcac74b3",
eventsink.go:59]       UserId: ""
eventsink.go:59]     }]
eventsink.go:59] }
eventsink.go:59] launch configuration output: {
eventsink.go:59]   BlockDeviceMappings: [{
eventsink.go:59]       DeviceName: "/dev/xvda",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 8,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     },{
eventsink.go:59]       DeviceName: "/dev/xvdcz",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 50,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     },{
eventsink.go:59]       DeviceName: "/dev/xvdb",
eventsink.go:59]       Ebs: {
eventsink.go:59]         DeleteOnTermination: true,
eventsink.go:59]         VolumeSize: 5,
eventsink.go:59]         VolumeType: "gp2"
eventsink.go:59]       }
eventsink.go:59]     }],
eventsink.go:59]   CreatedTime: 2020-05-15 08:41:37.853 +0000 UTC,
eventsink.go:59]   EbsOptimized: false,
eventsink.go:59]   IamInstanceProfile: "api-scale-726f42c",
eventsink.go:59]   ImageId: "ami-040d7258a1baecb27",
eventsink.go:59]   InstanceMonitoring: {
eventsink.go:59]     Enabled: true
eventsink.go:59]   },
eventsink.go:59]   InstanceType: "t2.nano",
eventsink.go:59]   KernelId: "",
eventsink.go:59]   KeyName: "",
eventsink.go:59]   LaunchConfigurationARN: "arn:aws:autoscaling:us-east-1:952442618488:launchConfiguration:c11c92e3-6a26-4d7f-99d2-796b59de7121:launchConfigurationName/api-scale-597e474",
eventsink.go:59]   LaunchConfigurationName: "api-scale-597e474",
eventsink.go:59]   PlacementTenancy: "default",
eventsink.go:59]   RamdiskId: "",
eventsink.go:59]   SecurityGroups: ["sg-08ef82add7b100668"],
eventsink.go:59]   UserData: "I2Nsb3VkLWNvbmZpZwogICAgICAgIHJlcG9fdXBncmFkZV9leGNsdWRlOgogICAgICAgICAgICAtIGtlcm5lbCoKICAgICAgICBwYWNrYWdlczoKICAgICAgICAgICAgLSBhd3MtY2ZuLWJvb3RzdHJhcAogICAgICAgICAgICAtIGF3cy1jbGkKICAgICAgICAgICAgLSBuZnMtdXRpbHMKICAgICAgICBtb3VudHM6CiAgICAgICAgICAgIC0gWycvZGV2L3h2ZGInLCAnbm9uZScsICdzd2FwJywgJ3N3JywgJzAnLCAnMCddCiAgICAgICAgYm9vdGNtZDoKICAgICAgICAgICAgLSBta3N3YXAgL2Rldi94dmRiCiAgICAgICAgICAgIC0gc3dhcG9uIC9kZXYveHZkYgogICAgICAgICAgICAtIGVjaG8gRUNTX0VOR0lORV9BVVRIX1RZUEU9ZG9ja2VyID4+IC9ldGMvZWNzL2Vjcy5jb25maWcKICAgICAgICAgICAgLSBlY2hvIEVDU19DTFVTVEVSPSdhcm46YXdzOmVjczp1cy1lYXN0LTE6OTUyNDQyNjE4NDg4OmNsdXN0ZXIvYXBpLWNsdXN0ZXItYjE1YzNiOScgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwogICAgICAgIHJ1bmNtZDoKICAgICAgICAgICAgIyBTZXQgYW5kIHVzZSB2YXJpYWJsZXMgaW4gdGhlIHNhbWUgY29tbWFuZCwgc2luY2UgaXQncyBub3Qgb2J2aW91cyBpZgogICAgICAgICAgICAjIGRpZmZlcmVudCBjb21tYW5kcyB3aWxsIHJ1biBpbiBkaWZmZXJlbnQgc2hlbGxzLgogICAgICAgICAgICAtIHwKICAgICAgICAgICAgICAgICMgS25vY2sgb25lIGxldHRlciBvZmYgb2YgYXZhaWxhYmlsaXR5IHpvbmUgdG8gZ2V0IHJlZ2lvbi4KICAgICAgICAgICAgICAgIEFXU19BVkFJTEFCSUxJVFlfWk9ORT0kKGN1cmwgLXMgMTY5LjI1NC4xNjkuMjU0LzIwMTYtMDktMDIvbWV0YS1kYXRhL3BsYWNlbWVudC9hdmFpbGFiaWxpdHktem9uZSkKICAgICAgICAgICAgICAgIEFXU19SRUdJT049JChlY2hvICRBV1NfQVZBSUxBQklMSVRZX1pPTkUgfCBzZWQgJ3MvLiQvLycpCgoKICAgICAgICAgICAgICAgICMgRGlzYWJsZSBjb250YWluZXIgYWNjZXNzIHRvIEVDMiBtZXRhZGF0YSBpbnN0YW5jZQogICAgICAgICAgICAgICAgIyBTZWUgaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vQW1hem9uRUNTL2xhdGVzdC9kZXZlbG9wZXJndWlkZS9pbnN0YW5jZV9JQU1fcm9sZS5odG1sCiAgICAgICAgICAgICAgICBpcHRhYmxlcyAtLWluc2VydCBGT1JXQVJEIDEgLS1pbi1pbnRlcmZhY2UgZG9ja2VyKyAtLWRlc3RpbmF0aW9uIDE2OS4yNTQuMTY5LjI1NC8zMiAtLWp1bXAgRFJPUAogICAgICAgICAgICAgICAgc2VydmljZSBpcHRhYmxlcyBzYXZlCgogICAgICAgICAgICAgICAgL29wdC9hd3MvYmluL2Nmbi1zaWduYWwgICAgICAgICAgICAgICAgICAgICAtLXJlZ2lvbiAiJHtBV1NfUkVHSU9OfSIgICAgICAgICAgICAgICAgICAgICAtLXN0YWNrICJhcGktc2NhbGUtODc4Y2UwNCIgICAgICAgICAgICAgICAgICAgICAtLXJlc291cmNlIEluc3RhbmNlcwogICAgICAgIA=="
eventsink.go:59] }
eventsink.go:59] Describing AMI "ami-040d7258a1baecb27" to get root block device name
eventsink.go:59] Found rule for Security Group Rule (sgrule-910081694): {
eventsink.go:59]   FromPort: 443,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "Externally available at port 443"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 443
eventsink.go:59] }
eventsink.go:59] Unlocking "sg-07155c655fcac74b3"
eventsink.go:59] Unlocked "sg-07155c655fcac74b3"
eventsink.go:59] Locked "sg-07155c655fcac74b3"
step_executor.go:321] StepExecutor worker(66): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb (preview false)
eventsink.go:59] ALB create configuration: {
eventsink.go:59]   Name: "api-alb-c13d180",
eventsink.go:59]   SecurityGroups: ["sg-07155c655fcac74b3"],
eventsink.go:59]   Subnets: ["subnet-0fa8a3b368a451d7c","subnet-0abaf2e69b9bb2b32"],
eventsink.go:59]   Tags: [{
eventsink.go:59]       Key: "Name",
eventsink.go:59]       Value: "api-alb"
eventsink.go:59]     }],
eventsink.go:59]   Type: "application"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(62): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress, #outs=10
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-ingress[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-ingress,sgrule-910081694,__meta,,,{"schema_version":"2"},cidrBlocks,,,,,,,,0.0.0.0/0,description,,,Externally available at port 443,fromPort,,443,id,,,sgrule-910081694,protocol,,,tcp,securityGroupId,,,sg-07155c655fcac74b3,self,,,,false,toPort,,443,type,,,ingress,,
eventsink.go:59] Authorizing security group sg-07155c655fcac74b3 Egress rule: {
eventsink.go:59]   FromPort: 443,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "Externally available at port 443"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 443
eventsink.go:59] }
eventsink.go:59] Computed group rule ID sgrule-3375589337
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(60): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/launchConfiguration:LaunchConfiguration, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale, #outs=19
eventsink.go:59] RegisterResource RPC finished: resource:api-scale[aws:ec2/launchConfiguration:LaunchConfiguration]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale,api-scale-597e474,arn,,,arn:aws:autoscaling:us-east-1:952442618488:launchConfiguration:c11c92e3-6a26-4d7f-99d2-796b59de7121:launchConfigurationName/api-scale-597e474,associatePublicIpAddress,,,,false,ebsBlockDevices,,,,,,,,,,deleteOnTermination,,,,true,deviceName,,,/dev/xvdcz,encrypted,,,,false,iops,,0,noDevice,,,,false,snapshotId,,,,volumeSize,,50,volumeType,,,gp2,,,,,deleteOnTermination,,,,true,deviceName,,,/dev/xvdb,encrypted,,,,false,iops,,0,noDevice,,,,false,snapshotId,,,,volumeSize,,5,volumeType,,,gp2,ebsOptimized,,,,false,enableMonitoring,,,,true,ephemeralBlockDevices,,,,,,,iamInstanceProfile,,,api-scale-726f42c,id,,,api-scale-597e474,imageId,,,ami-040d7258a1baecb27,instanceType,,,t2.nano,keyName,,,,name,,,api-scale-597e474,placementTenancy,,,default,rootBlockDevice,,,,,deleteOnTermination,,,,true,encrypted,,,,false,iops,,0,volumeSize,,8,volumeType,,,gp2,securityGroups,,,,,,,,sg-08ef82add7b100668,spotPrice,,,,userData,,,d969a7bd2b4792d00602726af11d34e503bff7c9,vpcClassicLinkId,,,,vpcClassicLinkSecurityGroups,,,,,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:cloudformation/stack:Stack, name=api-scale, custom=true, #props=2, parent=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup::api-scale, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:s3/bucket:Bucket::api-scale urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/subnet:Subnet::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTableAssociation:RouteTableAssociation::khatm-app-vpc-private-1 urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$awsx:x:autoscaling:AutoScalingLaunchConfiguration$aws:ec2/launchConfiguration:LaunchConfiguration::api-scale], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:cloudformation/stack:Stack,name=api-scale,#props=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:cloudformation/stack:Stack, name=api-scale
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(67): launching oneshot worker
step_executor.go:321] StepExecutor worker(67): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale (preview false)
eventsink.go:59] Creating CloudFormation Stack: {
eventsink.go:59]   StackName: "api-scale-878ce04",
eventsink.go:59]   TemplateBody: "\n    AWSTemplateFormatVersion: '2010-09-09'\n    Outputs:\n        Instances:\n            Value: !Ref Instances\n    Resources:\n        Instances:\n            Type: AWS::AutoScaling::AutoScalingGroup\n            Properties:\n                Cooldown: 300\n                DesiredCapacity: 2\n                HealthCheckGracePeriod: 120\n                HealthCheckType: EC2\n                LaunchConfigurationName: \"api-scale-597e474\"\n                MaxSize: 10\n                MetricsCollection:\n                -   Granularity: 1Minute\n                MinSize: 2\n                VPCZoneIdentifier: [\"subnet-0cdc7df7de630a194\",\"subnet-0a4cbe6294cc8dd53\"]\n                Tags:\n                -   Key: Name\n                    Value: api-scale\n                    PropagateAtLaunch: true\n            CreationPolicy:\n                ResourceSignal:\n                    Count: 2\n                    Timeout: PT15M\n            UpdatePolicy:\n                AutoScalingRollingUpdate:\n                    MaxBatchSize: 1\n                    MinInstancesInService: 2\n                    PauseTime: PT15M\n                    SuspendProcesses:\n                    -   ScheduledActions\n                    WaitOnResourceSignals: true\n    "
eventsink.go:59] }
eventsink.go:59] Found rule for Security Group Rule (sgrule-3375589337): {
eventsink.go:59]   FromPort: 80,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   ToPort: 80,
eventsink.go:59]   UserIdGroupPairs: [{
eventsink.go:59]       Description: "allow http from lb in",
eventsink.go:59]       GroupId: "sg-07155c655fcac74b3",
eventsink.go:59]       UserId: "952442618488"
eventsink.go:59]     }]
eventsink.go:59] }
eventsink.go:59] Unlocking "sg-08ef82add7b100668"
eventsink.go:59] Unlocked "sg-08ef82add7b100668"
eventsink.go:59] Computed group rule ID sgrule-925105660
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting 200ms before next try
step_executor.go:321] StepExecutor worker(61): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in, #outs=10
eventsink.go:59] RegisterResource RPC finished: resource:lb-sg-in[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:IngressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::lb-sg-in,sgrule-3375589337,__meta,,,{"schema_version":"2"},description,,,allow http from lb in,fromPort,,80,id,,,sgrule-3375589337,protocol,,,tcp,securityGroupId,,,sg-08ef82add7b100668,self,,,,false,sourceSecurityGroupId,,,sg-07155c655fcac74b3,toPort,,80,type,,,ingress,,
eventsink.go:59] Waiting for state to become: [CREATE_COMPLETE CREATE_FAILED DELETE_COMPLETE DELETE_FAILED ROLLBACK_COMPLETE ROLLBACK_FAILED]
eventsink.go:59] Found rule for Security Group Rule (sgrule-925105660): {
eventsink.go:59]   FromPort: 443,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "Externally available at port 443"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 443
eventsink.go:59] }
eventsink.go:59] Unlocking "sg-07155c655fcac74b3"
eventsink.go:59] Unlocked "sg-07155c655fcac74b3"
eventsink.go:59] Locked "sg-07155c655fcac74b3"
eventsink.go:59] LB ID: arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202
eventsink.go:59] Waiting for state to become: [active]
step_executor.go:321] StepExecutor worker(63): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress, #outs=10
eventsink.go:59] RegisterResource RPC finished: resource:https-listener-external-0-egress[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::https-listener-external-0-egress,sgrule-925105660,__meta,,,{"schema_version":"2"},cidrBlocks,,,,,,,,0.0.0.0/0,description,,,Externally available at port 443,fromPort,,443,id,,,sgrule-925105660,protocol,,,tcp,securityGroupId,,,sg-07155c655fcac74b3,self,,,,false,toPort,,443,type,,,egress,,
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 1s before next try
eventsink.go:59] Waiting 400ms before next try
eventsink.go:59] Authorizing security group sg-07155c655fcac74b3 Egress rule: {
eventsink.go:59]   FromPort: 80,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "allow http out"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 80
eventsink.go:59] }
eventsink.go:59] Computed group rule ID sgrule-989712883
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting 800ms before next try
eventsink.go:59] Found rule for Security Group Rule (sgrule-989712883): {
eventsink.go:59]   FromPort: 80,
eventsink.go:59]   IpProtocol: "tcp",
eventsink.go:59]   IpRanges: [{
eventsink.go:59]       CidrIp: "0.0.0.0/0",
eventsink.go:59]       Description: "allow http out"
eventsink.go:59]     }],
eventsink.go:59]   ToPort: 80
eventsink.go:59] }
eventsink.go:59] Unlocking "sg-07155c655fcac74b3"
eventsink.go:59] Unlocked "sg-07155c655fcac74b3"
step_executor.go:321] StepExecutor worker(64): step create on urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/securityGroupRule:SecurityGroupRule, urn=urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out, #outs=10
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 2s before next try
eventsink.go:59] RegisterResource RPC finished: resource:http-out[aws:ec2/securityGroupRule:SecurityGroupRule]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:SecurityGroup$awsx:x:ec2:EgressSecurityGroupRule$aws:ec2/securityGroupRule:SecurityGroupRule::http-out,sgrule-989712883,__meta,,,{"schema_version":"2"},cidrBlocks,,,,,,,,0.0.0.0/0,description,,,allow http out,fromPort,,80,id,,,sgrule-989712883,protocol,,,tcp,securityGroupId,,,sg-07155c655fcac74b3,self,,,,false,toPort,,80,type,,,egress,,
eventsink.go:59] Waiting 1.6s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 4s before next try
eventsink.go:70] eventSink::Info(<{%reset%}>c2adabaecedb: Pushed
<{%reset%}>)
eventsink.go:59] Waiting 3.2s before next try
eventsink.go:70] eventSink::Info(<{%reset%}>b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c: digest: sha256:d2cf0b504ffab3c3c06eb97165faf292408223249f0547d4380d3fc7d884c929 size: 1155
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker tag f86f3e0c-container 952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a'<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Executing ' docker push 952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a'<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>The push refers to repository [952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a]
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>e0031283ecf5: Preparing
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>b3003aac411c: Preparing
216cf33c0a28: Preparing
c2adabaecedb: Preparing
<{%reset%}>)
eventsink.go:59] Waiting 6.4s before next try
eventsink.go:70] eventSink::Info(<{%reset%}>216cf33c0a28: Layer already exists
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>b3003aac411c: Layer already exists
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>c2adabaecedb: Layer already exists
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>e0031283ecf5: Layer already exists
<{%reset%}>)
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 8s before next try
eventsink.go:70] eventSink::Info(<{%reset%}>b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c: digest: sha256:d2cf0b504ffab3c3c06eb97165faf292408223249f0547d4380d3fc7d884c929 size: 1155
<{%reset%}>)
I0515 01:41:48.616261   67978 eventsink.go:70] eventSink::Info(<{%reset%}>e0031283ecf5: Preparing
b3003aac411c: Preparing
216cf33c0a28: Preparing
c2adabaecedb: Preparing
e0031283ecf5: Layer already exists
b3003aac411c: Layer already exists
216cf33c0a28: Layer already exists
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>c2adabaecedb: Layer already exists
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>latest: digest: sha256:d2cf0b504ffab3c3c06eb97165faf292408223249f0547d4380d3fc7d884c929 size: 1155
<{%reset%}>)
eventsink.go:70] eventSink::Info(<{%reset%}>Successfully pushed to docker<{%reset%}>)
eventsink.go:59]     build complete: f86f3e0c-container (952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c)
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Current CloudFormation stack status: "CREATE_IN_PROGRESS"
eventsink.go:59] Waiting 10s before next try
step_executor.go:321] StepExecutor worker(65): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/natGateway:NatGateway, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0, #outs=7
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-0[aws:ec2/natGateway:NatGateway]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0,nat-045977c44e438ad12,allocationId,,,eipalloc-09cbbe0822019ef9b,id,,,nat-045977c44e438ad12,networkInterfaceId,,,eni-0945a1584d56b4d2d,privateIp,,,10.0.24.233,publicIp,,,52.0.170.117,subnetId,,,subnet-0abaf2e69b9bb2b32,tags,,,,,,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-0, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-0], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0], customTimeouts={0 0 0}
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-private-0-nat-0,#props=3
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1, custom=true, #props=3, parent=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet::khatm-app-vpc-private-1, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:NatGateway$aws:ec2/natGateway:NatGateway::khatm-app-vpc-0 urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/routeTable:RouteTable::khatm-app-vpc-private-1], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ec2/route:Route,name=khatm-app-vpc-private-1-nat-1,#props=3
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(68): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-private-0-nat-0
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(69): launching oneshot worker
eventsink.go:59] RegisterResource RPC prepared: t=aws:ec2/route:Route, name=khatm-app-vpc-private-1-nat-1
step_executor.go:321] StepExecutor worker(68): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0 (preview false)
eventsink.go:59] Route create config: {
eventsink.go:59]   DestinationCidrBlock: "0.0.0.0/0",
eventsink.go:59]   NatGatewayId: "nat-045977c44e438ad12",
eventsink.go:59]   RouteTableId: "rtb-015995d4fa6804088"
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(69): applying step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1 (preview false)
eventsink.go:59] Route create config: {
eventsink.go:59]   DestinationCidrBlock: "0.0.0.0/0",
eventsink.go:59]   NatGatewayId: "nat-045977c44e438ad12",
eventsink.go:59]   RouteTableId: "rtb-01eccbe6428997cc3"
eventsink.go:59] }
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] LB state: provisioning
eventsink.go:59] Waiting 10s before next try
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(69): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-1-nat-1[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-1-nat-1,r-rtb-01eccbe6428997cc31080289494,destinationCidrBlock,,,0.0.0.0/0,destinationPrefixListId,,,,egressOnlyGatewayId,,,,gatewayId,,,,id,,,r-rtb-01eccbe6428997cc31080289494,instanceId,,,,instanceOwnerId,,,,natGatewayId,,,nat-045977c44e438ad12,networkInterfaceId,,,,origin,,,CreateRoute,routeTableId,,,rtb-01eccbe6428997cc3,state,,,active,transitGatewayId,,,,vpcPeeringConnectionId,,,,,
step_executor.go:321] StepExecutor worker(68): step create on urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0 retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ec2/route:Route, urn=urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0, #outs=14
eventsink.go:59] RegisterResource RPC finished: resource:khatm-app-vpc-private-0-nat-0[aws:ec2/route:Route]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ec2:Vpc$awsx:x:ec2:Subnet$aws:ec2/route:Route::khatm-app-vpc-private-0-nat-0,r-rtb-015995d4fa68040881080289494,destinationCidrBlock,,,0.0.0.0/0,destinationPrefixListId,,,,egressOnlyGatewayId,,,,gatewayId,,,,id,,,r-rtb-015995d4fa68040881080289494,instanceId,,,,instanceOwnerId,,,,natGatewayId,,,nat-045977c44e438ad12,networkInterfaceId,,,,origin,,,CreateRoute,routeTableId,,,rtb-015995d4fa6804088,state,,,active,transitGatewayId,,,,vpcPeeringConnectionId,,,,,
step_executor.go:321] StepExecutor worker(66): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/loadBalancer:LoadBalancer, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb, #outs=19
eventsink.go:59] RegisterResource RPC finished: resource:api-alb[aws:lb/loadBalancer:LoadBalancer]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb,arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202,accessLogs,,,,,bucket,,,,enabled,,,,false,prefix,,,,arn,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202,arnSuffix,,,app/api-alb-c13d180/222217e0735b5202,dnsName,,,api-alb-c13d180-1651223156.us-east-1.elb.amazonaws.com,dropInvalidHeaderFields,,,,false,enableDeletionProtection,,,,false,enableHttp2,,,,true,id,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202,idleTimeout,,60,internal,,,,false,ipAddressType,,,ipv4,loadBalancerType,,,application,name,,,api-alb-c13d180,securityGroups,,,,,,,,sg-07155c655fcac74b3,subnetMappings,,,,,,,,,,allocationId,,,,subnetId,,,subnet-0abaf2e69b9bb2b32,,,,,allocationId,,,,subnetId,,,subnet-0fa8a3b368a451d7c,subnets,,,,,,,,subnet-0fa8a3b368a451d7c,,,subnet-0abaf2e69b9bb2b32,tags,,,,,Name,,,api-alb,vpcId,,,vpc-079b90a573f8ff555,zoneId,,,Z35SXDOTRQ7X7K,,
source_eval.go:317] handling default provider request for package aws-2.3.0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:lb/listener:Listener, name=https-listener, custom=true, #props=6, parent=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener::https-listener, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:elasticloadbalancingv2/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:x:elasticloadbalancingv2:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:x:elasticloadbalancingv2:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:x:elasticloadbalancingv2:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:lb/listener:Listener,name=https-listener,#props=6
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResource RPC prepared: t=aws:lb/listener:Listener, name=https-listener
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(70): launching oneshot worker
step_executor.go:321] StepExecutor worker(70): applying step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener (preview false)
eventsink.go:59] Waiting for state to become: [success]
eventsink.go:59] Creating LB listener for ARN: arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202
eventsink.go:59] Waiting for state to become: [success]
step_executor.go:321] StepExecutor worker(70): step create on urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:lb/listener:Listener, urn=urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener, #outs=8
eventsink.go:59] RegisterResource RPC finished: resource:https-listener[aws:lb/listener:Listener]; err: null, resp: urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener,arn:aws:elasticloadbalancing:us-east-1:952442618488:listener/app/api-alb-c13d180/222217e0735b5202/886d53eea0e3049b,arn,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:listener/app/api-alb-c13d180/222217e0735b5202/886d53eea0e3049b,certificateArn,,,arn:aws:acm:us-east-1:952442618488:certificate/3fc83113-436f-4019-aedc-bc17a936c755,defaultActions,,,,,,,,,,authenticateCognito,0,authenticateOidc,0,fixedResponse,0,order,,1,redirect,0,targetGroupArn,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:targetgroup/http-target-f05d673/42b52008eeee6a5f,type,,,forward,id,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:listener/app/api-alb-c13d180/222217e0735b5202/886d53eea0e3049b,loadBalancerArn,,,arn:aws:elasticloadbalancing:us-east-1:952442618488:loadbalancer/app/api-alb-c13d180/222217e0735b5202,port,,443,protocol,,,HTTPS,sslPolicy,,,ELBSecurityPolicy-2016-08,,
source_eval.go:877] ResourceMonitor.RegisterResourceOutputs received: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=2
source_eval.go:152] EvalSourceIterator produced a completion: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production,#outs=2
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:317] handling default provider request for package aws-2.3.0
plan_executor.go:370] planExecutor.handleSingleEvent(...): received register resource outputs
source_eval.go:793] ResourceMonitor.RegisterResource received: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator, custom=true, #props=6, parent=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition::api-orchestrator, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:aws::default_2_3_0::05e35737-1f86-4d95-9abd-7c1ace67599e, deps=[urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecr/repository:Repository::khatm-images urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:cloudwatch/logGroup:LogGroup::api-orchestrator urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$aws:lb/targetGroup:TargetGroup::http-target urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-execution urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:iam/role:Role::api-orchestrator-task], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
step_executor.go:321] StepExecutor worker(-1): registered resource outputs urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production: old=#0, new=#2
source_eval.go:147] EvalSourceIterator produced a registration: t=aws:ecs/taskDefinition:TaskDefinition,name=api-orchestrator,#props=6
eventsink.go:59] RegisterResourceOutputs RPC prepared: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production
source_eval.go:317] handling default provider request for package cloudflare-2.2.0
source_eval.go:284] newRegisterDefaultProviderEvent(cloudflare-2.2.0): using version 2.2.0 from request
eventsink.go:59] RegisterResource RPC prepared: t=aws:ecs/taskDefinition:TaskDefinition, name=api-orchestrator
eventsink.go:59] RegisterResource RPC prepared: t=cloudflare:index/record:Record, name=api-record
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
source_eval.go:147] EvalSourceIterator produced a registration: t=pulumi:providers:cloudflare,name=default_2_2_0,#props=1
source_eval.go:901] ResourceMonitor.RegisterResourceOutputs operation finished: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, #outs=2
source_eval.go:341] waiting for default provider for package cloudflare-2.2.0
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
eventsink.go:59] RegisterResourceOutputs RPC finished: urn=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production; err: null, resp:
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(71): launching oneshot worker
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(72): launching oneshot worker
step_executor.go:321] StepExecutor worker(71): applying step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator (preview false)
eventsink.go:59] Registering ECS task definition: {
eventsink.go:59]   ContainerDefinitions: [{
eventsink.go:59]       Environment: [],
eventsink.go:59]       Image: "952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c",
eventsink.go:59]       LogConfiguration: {
eventsink.go:59]         LogDriver: "awslogs",
eventsink.go:59]         Options: {
eventsink.go:59]           awslogs-group: "api-orchestrator-2c944f3",
eventsink.go:59]           awslogs-region: "us-east-1",
eventsink.go:59]           awslogs-stream-prefix: "nginx"
eventsink.go:59]         }
eventsink.go:59]       },
eventsink.go:59]       Memory: 128,
eventsink.go:59]       Name: "nginx",
eventsink.go:59]       PortMappings: [{
eventsink.go:59]           ContainerPort: 80,
eventsink.go:59]           HostPort: 80
eventsink.go:59]         }]
eventsink.go:59]     }],
eventsink.go:59]   ExecutionRoleArn: "arn:aws:iam::952442618488:role/api-orchestrator-execution-70b3b97",
eventsink.go:59]   Family: "api-orchestrator-06f404f5",
eventsink.go:59]   NetworkMode: "awsvpc",
eventsink.go:59]   RequiresCompatibilities: ["EC2"],
eventsink.go:59]   TaskRoleArn: "arn:aws:iam::952442618488:role/api-orchestrator-task-7f11164"
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(72): applying step create on urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0 (preview false)
eventsink.go:59] Cloudflare Client configured for user: mmislam101@gmail.com
step_executor.go:321] StepExecutor worker(72): step create on urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0 retired
source_eval.go:350] registered default provider for package cloudflare-2.2.0: urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0
source_eval.go:793] ResourceMonitor.RegisterResource received: t=cloudflare:index/record:Record, name=api-record, custom=true, #props=5, parent=urn:pulumi:production::khatm::pulumi:pulumi:Stack::khatm-production, protect=false, provider=urn:pulumi:production::khatm::pulumi:providers:cloudflare::default_2_2_0::d3c70abf-cbe1-452e-aa46-c26cdd7e9555, deps=[urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$awsx:lb:ApplicationTargetGroup$awsx:lb:ApplicationListener$aws:lb/listener:Listener::https-listener urn:pulumi:production::khatm::aws:lb:ApplicationLoadBalancer$aws:lb/loadBalancer:LoadBalancer::api-alb], deleteBeforeReplace=<nil>, ignoreChanges=[], aliases=[], customTimeouts={0 0 0}
source_eval.go:147] EvalSourceIterator produced a registration: t=cloudflare:index/record:Record,name=api-record,#props=5
plan_executor.go:219] planExecutor.Execute(...): incoming event (nil? false, <nil>)
plan_executor.go:364] planExecutor.handleSingleEvent(...): received RegisterResourceEvent
step_executor.go:321] StepExecutor worker(-2): worker received chain for execution
step_executor.go:321] StepExecutor worker(-2): worker waiting for incoming chains
step_executor.go:321] StepExecutor worker(73): launching oneshot worker
step_executor.go:321] StepExecutor worker(73): applying step create on urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record (preview false)
eventsink.go:59] Data found in config: map[string]interface {}{}
eventsink.go:59] Cloudflare Record create configuration: cloudflare.DNSRecord{ID:"", Type:"CNAME", Name:"api", Content:"api-alb-c13d180-1651223156.us-east-1.elb.amazonaws.com", Proxiable:false, Proxied:true, TTL:0, Locked:false, ZoneID:"7cd2d7064f6b0f7e4af0cc47f7f686f8", ZoneName:"", CreatedOn:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, ModifiedOn:time.Time{wall:0x0, ext:0, loc:(*time.Location)(nil)}, Data:interface {}(nil), Meta:interface {}(nil), Priority:0}
eventsink.go:59] ECS task definition registered: "arn:aws:ecs:us-east-1:952442618488:task-definition/api-orchestrator-06f404f5:46" (rev. 46)
eventsink.go:59] Reading task definition api-orchestrator-06f404f5
eventsink.go:59] Received task definition api-orchestrator-06f404f5, status:ACTIVE
eventsink.go:59]  {
eventsink.go:59]   Tags: [],
eventsink.go:59]   TaskDefinition: {
eventsink.go:59]     Compatibilities: ["EC2"],
eventsink.go:59]     ContainerDefinitions: [{
eventsink.go:59]         Cpu: 0,
eventsink.go:59]         Environment: [],
eventsink.go:59]         Essential: true,
eventsink.go:59]         Image: "952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c",
eventsink.go:59]         LogConfiguration: {
eventsink.go:59]           LogDriver: "awslogs",
eventsink.go:59]           Options: {
eventsink.go:59]             awslogs-region: "us-east-1",
eventsink.go:59]             awslogs-stream-prefix: "nginx",
eventsink.go:59]             awslogs-group: "api-orchestrator-2c944f3"
eventsink.go:59]           }
eventsink.go:59]         },
eventsink.go:59]         Memory: 128,
eventsink.go:59]         MountPoints: [],
eventsink.go:59]         Name: "nginx",
eventsink.go:59]         PortMappings: [{
eventsink.go:59]             ContainerPort: 80,
eventsink.go:59]             HostPort: 80,
eventsink.go:59]             Protocol: "tcp"
eventsink.go:59]           }],
eventsink.go:59]         VolumesFrom: []
eventsink.go:59]       }],
eventsink.go:59]     ExecutionRoleArn: "arn:aws:iam::952442618488:role/api-orchestrator-execution-70b3b97",
eventsink.go:59]     Family: "api-orchestrator-06f404f5",
eventsink.go:59]     NetworkMode: "awsvpc",
eventsink.go:59]     PlacementConstraints: [],
eventsink.go:59]     RequiresAttributes: [
eventsink.go:59]       {
eventsink.go:59]         Name: "com.amazonaws.ecs.capability.logging-driver.awslogs"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "ecs.capability.execution-role-awslogs"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "com.amazonaws.ecs.capability.ecr-auth"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "com.amazonaws.ecs.capability.docker-remote-api.1.19"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "com.amazonaws.ecs.capability.task-iam-role"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "ecs.capability.execution-role-ecr-pull"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "com.amazonaws.ecs.capability.docker-remote-api.1.18"
eventsink.go:59]       },
eventsink.go:59]       {
eventsink.go:59]         Name: "ecs.capability.task-eni"
eventsink.go:59]       }
eventsink.go:59]     ],
eventsink.go:59]     RequiresCompatibilities: ["EC2"],
eventsink.go:59]     Revision: 46,
eventsink.go:59]     Status: "ACTIVE",
eventsink.go:59]     TaskDefinitionArn: "arn:aws:ecs:us-east-1:952442618488:task-definition/api-orchestrator-06f404f5:46",
eventsink.go:59]     TaskRoleArn: "arn:aws:iam::952442618488:role/api-orchestrator-task-7f11164",
eventsink.go:59] Cloudflare Record ID: c535ba4b9eb416e272a119442e2bd780
eventsink.go:59]     Volumes: []
eventsink.go:59]   }
eventsink.go:59] }
step_executor.go:321] StepExecutor worker(71): step create on urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:ecs/taskDefinition:TaskDefinition, urn=urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator, #outs=19
eventsink.go:59] RegisterResource RPC finished: resource:api-orchestrator[aws:ecs/taskDefinition:TaskDefinition]; err: null, resp: urn:pulumi:production::khatm::awsx:x:ecs:EC2TaskDefinition$aws:ecs/taskDefinition:TaskDefinition::api-orchestrator,api-orchestrator-06f404f5,__meta,,,{"schema_version":"1"},arn,,,arn:aws:ecs:us-east-1:952442618488:task-definition/api-orchestrator-06f404f5:46,containerDefinitions,,,[{"cpu":0,"environment":[],"essential":true,"image":"952442618488.dkr.ecr.us-east-1.amazonaws.com/khatm-images-40c8d8a:b4fc9cedae6c4764d0fbc64c53c55752e20c90aac21bfbd09819888410544d2c","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":"api-orchestrator-2c944f3","awslogs-region":"us-east-1","awslogs-stream-prefix":"nginx"}},"memory":128,"mountPoints":[],"name":"nginx","portMappings":[{"containerPort":80,"hostPort":80,"protocol":"tcp"}],"volumesFrom":[]}],cpu,,,,executionRoleArn,,,arn:aws:iam::952442618488:role/api-orchestrator-execution-70b3b97,family,,,api-orchestrator-06f404f5,id,,,api-orchestrator-06f404f5,inferenceAccelerators,,,,,,,ipcMode,,,,memory,,,,networkMode,,,awsvpc,pidMode,,,,placementConstraints,,,,,,,proxyConfiguration,0,requiresCompatibilities,,,,,,,,EC2,revision,,46,tags,,,,,,taskRoleArn,,,arn:aws:iam::952442618488:role/api-orchestrator-task-7f11164,volumes,,,,,,,,
eventsink.go:59] Data found in config: map[string]interface {}{}
step_executor.go:321] StepExecutor worker(73): step create on urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record retired
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=cloudflare:index/record:Record, urn=urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record, #outs=15
eventsink.go:59] RegisterResource RPC finished: resource:api-record[cloudflare:index/record:Record]; err: null, resp: urn:pulumi:production::khatm::cloudflare:index/record:Record::api-record,c535ba4b9eb416e272a119442e2bd780,__meta,,,{"schema_version":"1"},createdOn,,,2020-05-15T08:45:09.352182Z,data,,,,,,hostname,,,api.khatmapp.com,id,,,c535ba4b9eb416e272a119442e2bd780,metadata,,,,,auto_added,,,false,managed_by_apps,,,false,managed_by_argo_tunnel,,,false,source,,,primary,modifiedOn,,,2020-05-15T08:45:09.352182Z,name,,,api,priority,,0,proxiable,,,,true,proxied,,,,true,ttl,,1,type,,,CNAME,value,,,api-alb-c13d180-1651223156.us-east-1.elb.amazonaws.com,zoneId,,,7cd2d7064f6b0f7e4af0cc47f7f686f8,,
eventsink.go:86] eventSink::Error(<{%reset%}>1 error occurred:
	* creating urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale: ROLLBACK_COMPLETE: ["The following resource(s) failed to create: [Instances]. . Rollback requested by user." "Received 0 SUCCESS signal(s) out of 2.  Unable to satisfy 100% MinSuccessfulInstancesPercent requirement"]

<{%reset%}>)
step_executor.go:321] StepExecutor worker(67): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale retired
step_executor.go:321] StepExecutor worker(67): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale failed with an error: 1 error occurred:
	* creating urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale: ROLLBACK_COMPLETE: ["The following resource(s) failed to create: [Instances]. . Rollback requested by user." "Received 0 SUCCESS signal(s) out of 2.  Unable to satisfy 100% MinSuccessfulInstancesPercent requirement"]

step_executor.go:321] StepExecutor worker(67): step create on urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale failed, signalling cancellation
source_eval.go:835] ResourceMonitor.RegisterResource operation finished: t=aws:cloudformation/stack:Stack, urn=urn:pulumi:production::khatm::awsx:x:ecs:Cluster$awsx:x:autoscaling:AutoScalingGroup$aws:cloudformation/stack:Stack::api-scale, #outs=3
plan_executor.go:244] planExecutor.Execute(...): context finished: context canceled
step_executor.go:321] StepExecutor worker(-2): worker exiting due to cancellation
step_executor.go:321] StepExecutor worker(-1): StepExecutor.waitForCompletion(): waiting for worker threads to exit
step_executor.go:321] StepExecutor worker(-1): StepExecutor.waitForCompletion(): worker threads all exited
plan_executor.go:254] planExecutor.Execute(...): step executor has completed
eventsink.go:86] eventSink::Error(<{%reset%}>update failed<{%reset%}>)
plan_executor.go:131] planExecutor.Execute(...): exiting provider canceller
ignore.go:44] Explicitly ignoring and discarding error: rpc error: code = Canceled desc = grpc: the client connection is closing
ignore.go:44] Explicitly ignoring and discarding error: 1 error occurred:
	* operation not permitted

source_eval.go:167] EvalSourceIterator ended with an error: transport is closing
plan_executor.go:200] planExecutor.Execute(...): incoming events goroutine exiting
